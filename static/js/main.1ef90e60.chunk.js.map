{"version":3,"sources":["twitch/actionTypes.js","twitch/reducers/token.js","shared/utils.js","shared/messages.js","shared/redux/actionCreator.js","shared/redux/reducerCreator.js","shared/Loader.jsx","twitch/reducers/user.js","twitch/reducers/followedIds.js","twitch/reducers/followed.js","twitch/reducers/streams.js","twitch/reducers/games.js","twitch/reducers/videos.js","twitch/reducers/channel.js","twitch/reducers/video.js","twitch/reducers/showChat.js","twitch/reducers/showVideos.js","twitch/constants.js","twitch/reducers/refreshInterval.js","twitch/reducers/errors.js","store/persistence.js","twitch/reducers/index.js","sidebar/reducers.js","sidebar/actionTypes.js","rootReducer/rootReducer.js","rootReducer/persistenceConfiguration.js","store/index.js","store/configureStore.js","theme/theme.js","shared/header/Header.jsx","sidebar/Sidebar.jsx","sidebar/actions/toggleSidebar.js","sidebar/SidebarContainer.js","shared/header/HeaderContainer.js","layout/Layout.jsx","twitch/actions/saveToken.js","twitch/transform.js","twitch/actions/common.js","twitch/utils.js","twitch/actions/fetchUsers.js","twitch/actions/fetchFollowed.js","twitch/actions/fetchGames.js","twitch/actions/fetchStreams.js","twitch/selectors.js","twitch/actions/fetchVideos.js","twitch/actions/setChannel.js","twitch/actions/setVideo.js","twitch/actions/authentication.js","twitch/actions/fetchAll.js","twitch/actions/setRefreshInterval.js","twitch/actions/toggleChat.js","twitch/actions/toggleVideos.js","twitch/types.js","twitch/player/TwitchPlayer.jsx","twitch/player/TwitchPlayerContainer.js","twitch/chat/TwitchChat.jsx","twitch/chat/TwitchChatContainer.js","twitch/playerWithChat/PlayerWithChat.jsx","twitch/playerWithChat/PlayerWithChatContainer.js","twitch/videos/VideoThumbnailLabel.jsx","twitch/videos/VideoThumbnail.jsx","twitch/videos/VideoTile.jsx","twitch/videos/VideoTileContainer.js","twitch/videos/TwitchVideos.jsx","twitch/videos/TwitchVideosContainer.jsx","twitch/logic/TwitchLogic.jsx","twitch/logic/TwitchLogicContainer.js","twitch/errors/TwitchErrorModal.jsx","twitch/errors/TwitchErrorModalContainer.js","twitch/view/TwitchView.jsx","twitch/view/TwitchViewContainer.js","twitch/channels/channel/Channel.jsx","twitch/channels/channel/ChannelContainer.js","twitch/channels/TwitchChannels.jsx","twitch/channels/TwitchChannelsContainer.js","title/Title.jsx","title/TitleContainer.js","headerButtons/ActionButton.jsx","headerButtons/AuthenticationButtonContainer.jsx","headerButtons/CloseStreamButtonContainer.jsx","headerButtons/ToggleChatButtonContainer.jsx","headerButtons/ChangeViewButtonContainer.jsx","headerButtons/HeaderButtons.jsx","App.jsx","serviceWorker.js","index.js"],"names":["TWITCH_FETCH_USER_ERROR","TWITCH_FETCH_USER_SUCCESS","TWITCH_FETCH_FOLLOWED_IDS_ERROR","TWITCH_FETCH_FOLLOWED_IDS_SUCCESS","TWITCH_FETCH_FOLLOWED_USERS_ERROR","TWITCH_FETCH_FOLLOWED_USERS_SUCCESS","TWITCH_FETCH_STREAMS_ERROR","TWITCH_FETCH_STREAMS_SUCCESS","TWITCH_FETCH_GAMES_ERROR","TWITCH_FETCH_GAMES_SUCCESS","TWITCH_FETCH_VIDEOS_ERROR","TWITCH_FETCH_VIDEOS_SUCCESS","token","state","type","newToken","sanitizeUrl","url","split","replace","removeHashAndParametersFromUrl","window","history","replaceState","location","href","saveInLocalStorage","key","value","localStorage","setItem","JSON","stringify","loadFromLocalStorage","getItem","parse","error","removeItem","deleteInLocalStorage","isUndefined","object","isString","isNumber","isArray","Array","getPublicUrl","process","getParamsFromHash","hash","length","reduce","prev","next","createQueryParameters","query","Object","keys","filter","map","v","join","createUrl","mergeBy","sourceArray","options","identifier","pop","arrayItem","result","find","getDefaultValue","Number","MIN_SAFE_INTEGER","sortBy","array","id","dir","sort","a","b","sortAscBy","sortDescBy","messages","en","app","title","actions","tooltips","login","logout","showChat","hideChat","closeStream","closeVideo","refreshData","showVideos","errors","closeModal","fetchErrorType","fetchErrorMessage","message","unknownErrorType","unknownErrorMessage","twitch","labels","views","buildActionCreator","argsNames","args","action","forEach","argName","index","buildActionReducers","start","success","clear","useStyles","makeStyles","theme","linear","width","overlay","height","top","display","alignItems","justifyContent","backgroundColor","palette","grey","Loader","isLoading","position","variant","zIndex","styles","getLoaderVariant","useCallback","className","style","inline","CircularProgress","color","LinearProgress","Fade","mountOnEnter","unmountOnExit","in","defaultProps","isFetchingUser","fetchedUserSuccessfully","isFetchingFollowedIds","fetchedFollowedIdsSuccessfully","followedIds","combineReducers","list","payload","uniq","data","total","cursor","pagination","isFetchingFollowed","fetchedFollowedSuccessfully","isFetchingStreams","fetchedStreamsSuccessfully","isFetchingGames","fetchedGamesSuccessfully","isFetchingVideos","fetchedVideosSuccessfully","videos","uniqBy","fetchedAll","channel","selectedChannel","video","selectedVideo","show","AUTH_PROTOCOL","REACT_APP_TWITCH_AUTH_PROTOCOL","AUTH_HOST","REACT_APP_TWITCH_AUTH_HOST","AUTH_PORT","REACT_APP_TWITCH_AUTH_PORT","HELIX_PROTOCOL","REACT_APP_TWITCH_HELIX_PROTOCOL","HELIX_HOST","REACT_APP_TWITCH_HELIX_HOST","HELIX_PORT","REACT_APP_TWITCH_HELIX_PORT","TWITCH_AUTHORIZATION_URL","TWITCH_API_URL","TWITCH_USERS_URL","TWITCH_USERS_FOLLOWS_URL","TWITCH_STREAMS_URL","TWITCH_GAMES_URL","TWITCH_VIDEOS_URL","refreshInterval","interval","store","configuration","user","followed","streams","games","isOpen","open","sidebar","persistenceConfiguration","rootReducer","initialState","enhancers","applyMiddleware","thunk","composedEnhancers","composeWithDevTools","createStore","configureStore","utils","subscribe","throttle","pick","getState","createMuiTheme","primary","main","light","dark","secondary","background","default","paper","text","progress","appBar","maxWidth","Header","children","toggleSidebar","AppBar","Toolbar","IconButton","onClick","Menu","Sidebar","setOpen","SwipeableDrawer","disableBackdropTransition","keepMounted","onOpen","onClose","ModalProps","sidebarSetState","setSidebarState","dispatch","toggleSidebarState","connect","sidebarActions","gridTemplateRows","Layout","header","sidebarHeader","HeaderContainer","SidebarContainer","saveToken","clearToken","transformError","status","errorType","transformUsers","display_name","profile_image_url","userId","name","avatarUrl","transformUser","transformUsersFollows","item","to_id","transformStreams","stream","game_id","user_id","viewer_count","gameId","viewers","transformStream","transformGames","game","gameTitle","transformGame","transformVideos","created_at","description","duration","published_at","thumbnail_url","view_count","videoId","createdAt","publishedAt","viewCount","thumbnailUrl","transformVideo","clearErrors","buildTwitchRequestActionCreator","headers","transform","optionParams","twitchHeaders","Authorization","assign","baseAction","method","mode","contentType","body","combine","fetchOptions","isParallelQuery","urlWithQueryParams","q","transformFunction","combineFunction","transformErrorFunction","checkResponse","response","ok","json","fetchAction","fetchUrl","fetch","then","Promise","all","catch","Error","buildRequestActionCreator","other","fetchUsers","clearUser","fetchUser","clearFollowedIds","clearFollowedUsers","clearFollowed","fetchFollowed","from_id","first","after","filteredUsers","chunk","clearGames","fetchGames","filteredGames","filterAndTransformGameIds","ids","clearStreams","fetchStreams","getFollowed","getStreams","getSelectedChannel","createSelector","getSelectedStream","getChannelAvatarUrl","getChannelName","getStreamTitle","selectedStream","getStreamsWithGames","getChannels","clearVideos","fetchVideos","setChannel","clearChannel","setVideo","clearVideo","twitchLogin","client_id","redirect_uri","URL","origin","response_type","twitchLogout","fetchAll","clearAll","setRefreshInterval","appSetShowChatState","setShowChatState","toggleShowChatState","appSetShowVideosState","setShowVideosState","toggleShowVideosState","PropTypes","string","number","channelType","shape","arrayOf","videoType","player","TwitchPlayer","targetID","useState","setPlayer","classes","initPlayer","resolve","Boolean","document","getElementById","script","createElement","setAttribute","addEventListener","appendChild","Twitch","Player","useEffect","pause","chat","TwitchChat","getChatUrl","frameBorder","src","container","flexFlow","breakpoints","down","playerContainer","flexGrow","paddingTop","left","chatContainer","minWidth","PlayerWithChat","isVisible","TwitchPlayerContainer","TwitchChatContainer","padding","opacity","borderRadius","common","black","typography","VideoThumbnailLabel","bottom","offsetHorizontal","offsetVertical","right","Typography","component","thumbnail","paddingBottom","backgroundSize","backgroundRepeat","backgroundPosition","labelIcon","marginRight","VideoThumbnail","thumbnailHeight","thumbnailWidth","backgroundImage","AccessTime","fontSize","moment","toUpperCase","format","getDurationText","getViewCountText","fromNow","getPublishedAtText","tile","overflow","boxShadow","shadows","spacing","textAlign","VideoTile","onVideoClick","ButtonBase","classnames","noWrap","overflowY","gridTemplateColumns","margin","marginTop","TwitchVideos","clearData","fetchData","handleScroll","target","scrollHeight","scrollTop","clientHeight","isInitialLoading","isSubsequentLoading","onScroll","VideoTileContainer","TwitchLogic","clearUrl","fetchInitialData","getToken","refreshVideos","setInterval","clearInterval","propTypes","func","isRequired","access_token","contrastText","icon","TwitchErrorModal","isModalVisible","onRefresh","Snackbar","anchorOrigin","vertical","horizontal","TransitionComponent","props","Slide","direction","SnackbarContent","Refresh","Close","firstError","wrapper","TwitchView","PlayerWithChatContainer","TwitchVideosContainer","TwitchLogicContainer","TwitchErrorModalContainer","dimAvatar","subtitleContainer","Channel","changeChannel","isSelected","isActive","isStreamLive","ListItem","button","selected","ListItemAvatar","Avatar","TwitchChannels","channels","List","dense","ChannelContainer","avatar","marginLeft","Title","secondaryText","showFullTitle","React","memo","buttonBase","ActionButton","tooltip","Tooltip","paddingLeft","paddingRight","AuthenticationButton","isLoggedIn","Person","twitchActions","closeStreamOrVideo","close","back","ArrowBack","toggleChat","Chat","ChatOutlined","changeView","Videocam","VideocamOutlined","HeaderButtons","CloseStreamButtonContainer","ChangeViewButtonContainer","ToggleChatButtonContainer","AuthenticationButtonContainer","App","ThemeProvider","CssBaseline","TitleContainer","TwitchChannelsContainer","TwitchViewContainer","isLocalhost","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","checkValidServiceWorker","get","indexOf","ready","unregister","reload","ReactDOM","render"],"mappings":"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","file":"static/js/main.1ef90e60.chunk.js","sourcesContent":["export const TWITCH_SAVE_TOKEN = 'TWITCH_SAVE_TOKEN';\nexport const TWITCH_CLEAR_TOKEN = 'TWITCH_CLEAR_TOKEN';\n\nexport const TWITCH_SAVE_USER = 'TWITCH_SAVE_USER';\nexport const TWITCH_SAVE_FOLLOWED = 'TWITCH_SAVE_FOLLOWED';\nexport const TWITCH_SAVE_STREAMS = 'TWITCH_SAVE_STREAMS';\nexport const TWITCH_SAVE_GAMES = 'TWITCH_SAVE_GAMES';\n\nexport const TWITCH_FETCH_USER = 'TWITCH_FETCH_USER';\nexport const TWITCH_FETCH_USER_ERROR = `${TWITCH_FETCH_USER}_ERROR`;\nexport const TWITCH_FETCH_USER_SUCCESS = `${TWITCH_FETCH_USER}_SUCCESS`;\nexport const TWITCH_CLEAR_USER = 'TWITCH_CLEAR_USER';\n\nexport const TWITCH_FETCH_FOLLOWED_IDS = 'TWITCH_FETCH_FOLLOWED_IDS';\nexport const TWITCH_FETCH_FOLLOWED_IDS_ERROR = `${TWITCH_FETCH_FOLLOWED_IDS}_ERROR`;\nexport const TWITCH_FETCH_FOLLOWED_IDS_SUCCESS = `${TWITCH_FETCH_FOLLOWED_IDS}_SUCCESS`;\nexport const TWITCH_CLEAR_FOLLOWED_IDS = 'TWITCH_CLEAR_FOLLOWED_IDS';\n\nexport const TWITCH_FETCH_FOLLOWED_USERS = 'TWITCH_FETCH_FOLLOWED_USERS';\nexport const TWITCH_FETCH_FOLLOWED_USERS_ERROR = `${TWITCH_FETCH_FOLLOWED_USERS}_ERROR`;\nexport const TWITCH_FETCH_FOLLOWED_USERS_SUCCESS = `${TWITCH_FETCH_FOLLOWED_USERS}_SUCCESS`;\nexport const TWITCH_CLEAR_FOLLOWED_USERS = 'TWITCH_CLEAR_FOLLOWED_USERS';\n\nexport const TWITCH_CLEAR_FOLLOWED = 'TWITCH_CLEAR_FOLLOWED';\n\nexport const TWITCH_FETCH_STREAMS = 'TWITCH_FETCH_STREAMS';\nexport const TWITCH_FETCH_STREAMS_ERROR = `${TWITCH_FETCH_STREAMS}_ERROR`;\nexport const TWITCH_FETCH_STREAMS_SUCCESS = `${TWITCH_FETCH_STREAMS}_SUCCESS`;\nexport const TWITCH_CLEAR_STREAMS = 'TWITCH_CLEAR_STREAMS';\n\nexport const TWITCH_FETCH_GAMES = 'TWITCH_FETCH_GAMES';\nexport const TWITCH_FETCH_GAMES_ERROR = `${TWITCH_FETCH_GAMES}_ERROR`;\nexport const TWITCH_FETCH_GAMES_SUCCESS = `${TWITCH_FETCH_GAMES}_SUCCESS`;\nexport const TWITCH_CLEAR_GAMES = 'TWITCH_CLEAR_GAMES';\n\nexport const TWITCH_FETCH_VIDEOS = 'TWITCH_FETCH_VIDEOS';\nexport const TWITCH_FETCH_VIDEOS_ERROR = `${TWITCH_FETCH_VIDEOS}_ERROR`;\nexport const TWITCH_FETCH_VIDEOS_SUCCESS = `${TWITCH_FETCH_VIDEOS}_SUCCESS`;\nexport const TWITCH_CLEAR_VIDEOS = 'TWITCH_CLEAR_VIDEOS';\n\nexport const TWITCH_SET_CHANNEL = 'TWITCH_SET_CHANNEL';\nexport const TWITCH_CLEAR_CHANNEL = 'TWITCH_CLEAR_CHANNEL';\n\nexport const TWITCH_SET_VIDEO = 'TWITCH_SET_VIDEO';\nexport const TWITCH_CLEAR_VIDEO = 'TWITCH_CLEAR_VIDEO';\n\nexport const TWITCH_SET_SHOW_CHAT_STATE = 'TWITCH_SET_SHOW_CHAT_STATE';\nexport const TWITCH_SET_SHOW_VIDEOS_STATE = 'TWITCH_SET_SHOW_VIDEOS_STATE';\n\nexport const TWITCH_SET_REFRESH_INTERVAL = 'TWITCH_SET_REFRESH_INTERVAL';\n\nexport const TWITCH_CLEAR_ERRORS = 'TWITCH_CLEAR_ERRORS';\n","import { TWITCH_CLEAR_TOKEN, TWITCH_SAVE_TOKEN } from 'twitch/actionTypes';\n\nconst token = (state = null, { type, newToken }) => {\n  switch (type) {\n    case TWITCH_SAVE_TOKEN:\n      return newToken;\n    case TWITCH_CLEAR_TOKEN:\n      return null;\n    default:\n      return state;\n  }\n};\n\nexport default token;\n","export const sanitizeUrl = (url) => url.split('?')[0].split('#')[0].replace(/\\/$/, '');\n\nexport const removeHashAndParametersFromUrl = () => window.history\n  .replaceState(null, null, sanitizeUrl(window.location.href));\n\nexport const saveInLocalStorage = (key, value) => window.localStorage\n  .setItem(key, JSON.stringify(value));\n\nexport const loadFromLocalStorage = (key) => {\n  const value = window.localStorage.getItem(key);\n  try {\n    return JSON.parse(value);\n  } catch (error) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n};\n\nexport const deleteInLocalStorage = (key) => window.localStorage.removeItem(key);\n\nexport const isUndefined = (object) => typeof object === 'undefined';\nexport const isString = (object) => typeof object === 'string';\nexport const isNumber = (object) => typeof object === 'number';\nexport const isArray = (object) => Array.isArray(object);\n\nexport const getPublicUrl = () => process.env.PUBLIC_URL;\n\nexport const getParamsFromHash = () => {\n  const { hash } = window.location;\n  if (hash.length) {\n    const parameters = hash.replace('#', '').split('&');\n    return parameters.reduce((prev, next) => {\n      const [key, value] = next.split('=');\n      return { ...prev, [key]: value };\n    }, {});\n  }\n  return {};\n};\n\nexport const createQueryParameters = (query = {}) => (\n  Object\n    .keys(query)\n    .filter((key) => (\n      isString(query[key])\n      || isNumber(query[key])\n      || isArray(query[key])\n    ))\n    .map((key) => {\n      const value = query[key];\n\n      if (isString(value) || isNumber(value)) {\n        return `${key}=${value}`;\n      }\n\n      if (isArray(value)) {\n        return value.map((v) => `${key}=${v}`).join('&');\n      }\n\n      return null;\n    })\n    .join('&')\n);\n\nexport const createUrl = (url, query) => `${url}?${createQueryParameters(query)}`;\n\nexport const mergeBy = (sourceArray, ...options) => {\n  if (options.length <= 1) {\n    return sourceArray;\n  }\n\n  const identifier = options.pop();\n\n  return sourceArray.map((arrayItem) => ({\n    ...arrayItem,\n    ...options.reduce((result, next) => ({\n      ...result,\n      ...next.find(({ [identifier]: searchId }) => searchId === arrayItem[identifier]),\n    }), {}),\n  }));\n};\n\nconst getDefaultValue = (value) => (!isUndefined(value) ? value : Number.MIN_SAFE_INTEGER);\nconst sortBy = (array, id, dir) => array\n  .sort((a, b) => getDefaultValue(dir ? a[id] : b[id]) - getDefaultValue(!dir ? a[id] : b[id]));\nexport const sortAscBy = (array, id) => sortBy(array, id, true);\nexport const sortDescBy = (array, id) => sortBy(array, id, false);\n","const messages = {\n  en: {\n    app: {\n      title: 'Stream Watcher',\n    },\n    actions: {\n      tooltips: {\n        login: 'Login',\n        logout: 'Logout',\n        showChat: 'Show chat',\n        hideChat: 'Hide chat',\n        closeStream: 'Close stream',\n        closeVideo: 'Close video',\n        refreshData: 'Refresh data',\n        showVideos: 'Show videos',\n      },\n    },\n    errors: {\n      closeModal: 'Close',\n      fetchErrorType: 'Network error',\n      fetchErrorMessage: (message, url) => `Error \"${message}\" occured while loading \"${url}\". Please check your internet connection. Try refreshing the page.`,\n      unknownErrorType: 'Unknown Error',\n      unknownErrorMessage: 'Try refreshing the page',\n    },\n    twitch: {\n      labels: {\n        views: 'views',\n      },\n      error: 'Twitch error',\n    },\n  },\n};\n\nexport default messages;\n","import * as utils from '../utils';\nimport messages from '../messages';\n\nexport const buildActionCreator = (type, ...argsNames) => (...args) => {\n  const action = { type };\n\n  argsNames.forEach((argName, index) => {\n    action[argsNames[index]] = args[index];\n  });\n\n  return action;\n};\n\nexport const buildRequestActionCreator = (options) => (dispatch) => {\n  const {\n    baseAction,\n    url,\n    headers,\n    method = 'GET',\n    mode = 'cors',\n    contentType = 'application/json',\n    body,\n    query,\n    transform,\n    combine,\n    transformError,\n  } = options;\n\n  const actions = {\n    start: () => baseAction && dispatch(buildActionCreator(baseAction)()),\n    success: (payload) => baseAction && dispatch(buildActionCreator(`${baseAction}_SUCCESS`, 'payload')(payload)),\n    error: (error) => baseAction && dispatch(buildActionCreator(`${baseAction}_ERROR`, 'error')(error)),\n  };\n\n  actions.start();\n\n  const fetchOptions = {\n    headers: {\n      ...headers,\n      'Content-Type': contentType,\n    },\n    method,\n    mode,\n    body,\n  };\n\n  const isParallelQuery = utils.isArray(query);\n  const urlWithQueryParams = (\n    query && (\n      isParallelQuery ? query.map((q) => utils.createUrl(url, q)) : utils.createUrl(url, query)\n    )\n  ) || (\n    url\n  );\n  const transformFunction = transform || ((data) => data);\n  const combineFunction = (isParallelQuery && combine) || ((data) => data);\n  const transformErrorFunction = transformError || ((error) => error);\n\n  const checkResponse = (response) => {\n    if (!response.ok) {\n      throw response;\n    }\n    return response.json();\n  };\n\n  const processData = (data) => {\n    actions.success(data);\n    return data;\n  };\n\n  const processErrors = (error) => {\n    if (error instanceof Error) {\n      actions.error({\n        errorType: messages.en.errors.fetchErrorType,\n        message: messages.en.errors.fetchErrorMessage(error.message, url),\n      });\n    } else {\n      error.json()\n        .then(transformErrorFunction)\n        .then(actions.error);\n    }\n  };\n\n  const fetchAction = (fetchUrl) => fetch(fetchUrl, fetchOptions)\n    .then(checkResponse)\n    .then(transformFunction);\n\n  return (\n    isParallelQuery\n      ? Promise.all(urlWithQueryParams.map((fetchUrl) => fetchAction(fetchUrl)))\n      : fetchAction(urlWithQueryParams)\n  )\n    .then(combineFunction)\n    .then(processData)\n    .catch(processErrors);\n};\n","export const buildActionReducers = ({\n  start,\n  success,\n  error,\n  clear,\n}) => ([\n  (state = false, { type }) => {\n    switch (type) {\n      case start:\n        return true;\n      case success:\n      case error:\n      case clear:\n        return false;\n      default:\n        return state;\n    }\n  },\n  (state = false, { type }) => {\n    switch (type) {\n      case success:\n        return true;\n      case start:\n      case error:\n      case clear:\n        return false;\n      default:\n        return state;\n    }\n  },\n]);\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport {\n  makeStyles,\n  Fade,\n  CircularProgress,\n  LinearProgress,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  linear: {\n    width: '100%',\n  },\n  overlay: {\n    width: '100%',\n    height: '100%',\n    top: 0,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: theme.palette.grey[900],\n  },\n}));\n\nconst Loader = ({\n  isLoading,\n  position,\n  variant,\n  zIndex,\n}) => {\n  const styles = useStyles();\n\n  const getLoaderVariant = useCallback(() => (\n    <div className={styles[variant]} style={{ position, zIndex, top: position === 'sticky' ? 0 : null }}>\n      {{\n        inline: (<CircularProgress color=\"inherit\" />),\n        linear: (<LinearProgress color=\"secondary\" />),\n        overlay: (<CircularProgress color=\"inherit\" />),\n      }[variant]}\n    </div>\n  ), [styles, position, variant, zIndex]);\n\n  return (\n    <Fade mountOnEnter unmountOnExit in={isLoading}>\n      {getLoaderVariant()}\n    </Fade>\n  );\n};\n\nLoader.defaultProps = {\n  isLoading: false,\n  position: null,\n  variant: 'inline',\n  zIndex: null,\n};\n\nLoader.propTypes = {\n  isLoading: PropTypes.bool,\n  position: PropTypes.oneOf([null, 'fixed', 'absolute', 'sticky']),\n  variant: PropTypes.oneOf(['inline', 'overlay', 'linear']),\n  zIndex: PropTypes.number,\n};\n\nexport default Loader;\n","import { buildActionReducers } from 'shared';\nimport {\n  TWITCH_FETCH_USER,\n  TWITCH_FETCH_USER_SUCCESS,\n  TWITCH_FETCH_USER_ERROR,\n  TWITCH_CLEAR_USER,\n} from '../actionTypes';\n\nconst user = (state = {}, { type, payload }) => {\n  switch (type) {\n    case TWITCH_FETCH_USER_SUCCESS:\n      return payload.data[0];\n    case TWITCH_CLEAR_USER:\n      return {};\n    default:\n      return state;\n  }\n};\n\nconst [\n  isFetchingUser,\n  fetchedUserSuccessfully,\n] = buildActionReducers({\n  start: TWITCH_FETCH_USER,\n  success: TWITCH_FETCH_USER_SUCCESS,\n  error: TWITCH_FETCH_USER_ERROR,\n  clear: TWITCH_CLEAR_USER,\n});\n\nexport {\n  user,\n  isFetchingUser,\n  fetchedUserSuccessfully,\n};\n","import { uniq } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { buildActionReducers } from 'shared';\nimport {\n  TWITCH_FETCH_FOLLOWED_IDS,\n  TWITCH_FETCH_FOLLOWED_IDS_SUCCESS,\n  TWITCH_FETCH_FOLLOWED_IDS_ERROR,\n  TWITCH_CLEAR_FOLLOWED_IDS,\n} from '../actionTypes';\n\nconst list = (state = [], { type, payload }) => {\n  switch (type) {\n    case TWITCH_FETCH_FOLLOWED_IDS_SUCCESS:\n      return uniq([...state, ...payload.data]);\n    case TWITCH_CLEAR_FOLLOWED_IDS:\n      return [];\n    default:\n      return state;\n  }\n};\n\nconst total = (state = null, { type, payload }) => {\n  switch (type) {\n    case TWITCH_FETCH_FOLLOWED_IDS_SUCCESS:\n      return payload.total || state;\n    case TWITCH_CLEAR_FOLLOWED_IDS:\n      return null;\n    default:\n      return state;\n  }\n};\n\nconst cursor = (state = null, { type, payload }) => {\n  switch (type) {\n    case TWITCH_FETCH_FOLLOWED_IDS_SUCCESS:\n      return (payload.pagination && payload.pagination.cursor) || null;\n    case TWITCH_CLEAR_FOLLOWED_IDS:\n      return null;\n    default:\n      return state;\n  }\n};\n\nconst [\n  isFetchingFollowedIds,\n  fetchedFollowedIdsSuccessfully,\n] = buildActionReducers({\n  start: TWITCH_FETCH_FOLLOWED_IDS,\n  success: TWITCH_FETCH_FOLLOWED_IDS_SUCCESS,\n  error: TWITCH_FETCH_FOLLOWED_IDS_ERROR,\n  clear: TWITCH_CLEAR_FOLLOWED_IDS,\n});\n\nconst followedIds = combineReducers({\n  list,\n  total,\n  cursor,\n});\n\nexport {\n  followedIds,\n  isFetchingFollowedIds,\n  fetchedFollowedIdsSuccessfully,\n};\n","import { uniqBy } from 'lodash';\nimport { buildActionReducers } from 'shared';\nimport {\n  TWITCH_FETCH_FOLLOWED_USERS,\n  TWITCH_FETCH_FOLLOWED_USERS_SUCCESS,\n  TWITCH_FETCH_FOLLOWED_USERS_ERROR,\n  TWITCH_CLEAR_FOLLOWED_USERS,\n} from '../actionTypes';\n\nconst followed = (state = [], { type, payload }) => {\n  switch (type) {\n    case TWITCH_FETCH_FOLLOWED_USERS_SUCCESS:\n      return uniqBy([...state, ...payload.data], 'userId');\n    case TWITCH_CLEAR_FOLLOWED_USERS:\n      return [];\n    default:\n      return state;\n  }\n};\n\nconst [\n  isFetchingFollowed,\n  fetchedFollowedSuccessfully,\n] = buildActionReducers({\n  start: TWITCH_FETCH_FOLLOWED_USERS,\n  success: TWITCH_FETCH_FOLLOWED_USERS_SUCCESS,\n  error: TWITCH_FETCH_FOLLOWED_USERS_ERROR,\n  clear: TWITCH_CLEAR_FOLLOWED_USERS,\n});\n\nexport {\n  followed,\n  isFetchingFollowed,\n  fetchedFollowedSuccessfully,\n};\n","import { buildActionReducers } from 'shared';\nimport {\n  TWITCH_FETCH_STREAMS,\n  TWITCH_FETCH_STREAMS_SUCCESS,\n  TWITCH_FETCH_STREAMS_ERROR,\n  TWITCH_CLEAR_STREAMS,\n} from '../actionTypes';\n\nconst streams = (state = [], { type, payload }) => {\n  switch (type) {\n    case TWITCH_FETCH_STREAMS_SUCCESS:\n      return payload.data;\n    case TWITCH_CLEAR_STREAMS:\n      return [];\n    default:\n      return state;\n  }\n};\n\nconst [\n  isFetchingStreams,\n  fetchedStreamsSuccessfully,\n] = buildActionReducers({\n  start: TWITCH_FETCH_STREAMS,\n  success: TWITCH_FETCH_STREAMS_SUCCESS,\n  error: TWITCH_FETCH_STREAMS_ERROR,\n  clear: TWITCH_CLEAR_STREAMS,\n});\n\nexport {\n  streams,\n  isFetchingStreams,\n  fetchedStreamsSuccessfully,\n};\n","import { uniqBy } from 'lodash';\nimport { buildActionReducers } from 'shared';\nimport {\n  TWITCH_FETCH_GAMES,\n  TWITCH_FETCH_GAMES_SUCCESS,\n  TWITCH_FETCH_GAMES_ERROR,\n  TWITCH_CLEAR_GAMES,\n} from '../actionTypes';\n\nconst games = (state = [], { type, payload }) => {\n  switch (type) {\n    case TWITCH_FETCH_GAMES_SUCCESS:\n      return uniqBy([...state, ...payload.data], 'gameId');\n    case TWITCH_CLEAR_GAMES:\n      return [];\n    default:\n      return state;\n  }\n};\n\nconst [\n  isFetchingGames,\n  fetchedGamesSuccessfully,\n] = buildActionReducers({\n  start: TWITCH_FETCH_GAMES,\n  success: TWITCH_FETCH_GAMES_SUCCESS,\n  error: TWITCH_FETCH_GAMES_ERROR,\n  clear: TWITCH_CLEAR_GAMES,\n});\n\nexport {\n  games,\n  isFetchingGames,\n  fetchedGamesSuccessfully,\n};\n","import { uniqBy } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { buildActionReducers } from 'shared';\nimport {\n  TWITCH_FETCH_VIDEOS,\n  TWITCH_FETCH_VIDEOS_SUCCESS,\n  TWITCH_FETCH_VIDEOS_ERROR,\n  TWITCH_CLEAR_VIDEOS,\n} from '../actionTypes';\n\nconst list = (state = [], { type, payload }) => {\n  switch (type) {\n    case TWITCH_FETCH_VIDEOS_SUCCESS:\n      return uniqBy([...state, ...payload.data], 'videoId');\n    case TWITCH_CLEAR_VIDEOS:\n      return [];\n    default:\n      return state;\n  }\n};\n\nconst cursor = (state = null, { type, payload }) => {\n  switch (type) {\n    case TWITCH_FETCH_VIDEOS_SUCCESS:\n      return (payload.pagination && payload.pagination.cursor) || state;\n    case TWITCH_CLEAR_VIDEOS:\n      return null;\n    default:\n      return state;\n  }\n};\n\nconst fetchedAll = (state = false, { type, payload }) => {\n  switch (type) {\n    case TWITCH_FETCH_VIDEOS_SUCCESS:\n      return !(payload.pagination && payload.pagination.cursor);\n    case TWITCH_CLEAR_VIDEOS:\n      return false;\n    default:\n      return state;\n  }\n};\n\nconst [\n  isFetchingVideos,\n  fetchedVideosSuccessfully,\n] = buildActionReducers({\n  start: TWITCH_FETCH_VIDEOS,\n  success: TWITCH_FETCH_VIDEOS_SUCCESS,\n  error: TWITCH_FETCH_VIDEOS_ERROR,\n  clear: TWITCH_CLEAR_VIDEOS,\n});\n\nconst videos = combineReducers({\n  list,\n  cursor,\n  fetchedAll,\n});\n\nexport {\n  videos,\n  isFetchingVideos,\n  fetchedVideosSuccessfully,\n};\n","import { TWITCH_SET_CHANNEL, TWITCH_CLEAR_CHANNEL } from '../actionTypes';\n\nconst channel = (state = null, { type, selectedChannel }) => {\n  switch (type) {\n    case TWITCH_SET_CHANNEL:\n      return selectedChannel;\n    case TWITCH_CLEAR_CHANNEL:\n      return null;\n    default:\n      return state;\n  }\n};\n\nexport default channel;\n","import { TWITCH_SET_VIDEO, TWITCH_CLEAR_VIDEO } from '../actionTypes';\n\nconst video = (state = null, { type, selectedVideo }) => {\n  switch (type) {\n    case TWITCH_SET_VIDEO:\n      return selectedVideo;\n    case TWITCH_CLEAR_VIDEO:\n      return null;\n    default:\n      return state;\n  }\n};\n\nexport default video;\n","import { TWITCH_SET_SHOW_CHAT_STATE } from '../actionTypes';\n\nconst showChat = (state = true, { type, show }) => {\n  switch (type) {\n    case TWITCH_SET_SHOW_CHAT_STATE:\n      return show;\n    default:\n      return state;\n  }\n};\n\nexport default showChat;\n","import { TWITCH_SET_SHOW_VIDEOS_STATE } from '../actionTypes';\n\nconst showVideos = (state = false, { type, show }) => {\n  switch (type) {\n    case TWITCH_SET_SHOW_VIDEOS_STATE:\n      return show;\n    default:\n      return state;\n  }\n};\n\nexport default showVideos;\n","const AUTH_PROTOCOL = process.env.REACT_APP_TWITCH_AUTH_PROTOCOL || 'https';\nconst AUTH_HOST = process.env.REACT_APP_TWITCH_AUTH_HOST || 'id.twitch.tv';\nconst AUTH_PORT = process.env.REACT_APP_TWITCH_AUTH_PORT || '443';\n\nconst HELIX_PROTOCOL = process.env.REACT_APP_TWITCH_HELIX_PROTOCOL || 'https';\nconst HELIX_HOST = process.env.REACT_APP_TWITCH_HELIX_HOST || 'api.twitch.tv';\nconst HELIX_PORT = process.env.REACT_APP_TWITCH_HELIX_PORT || '443';\n\nexport const TWITCH_AUTHORIZATION_URL = `${AUTH_PROTOCOL}://${AUTH_HOST}:${AUTH_PORT}/oauth2/authorize`;\nexport const TWITCH_API_URL = `${HELIX_PROTOCOL}://${HELIX_HOST}:${HELIX_PORT}/helix`;\n\nexport const TWITCH_USERS_URL = `${TWITCH_API_URL}/users`;\nexport const TWITCH_USERS_FOLLOWS_URL = `${TWITCH_USERS_URL}/follows`;\nexport const TWITCH_STREAMS_URL = `${TWITCH_API_URL}/streams`;\nexport const TWITCH_GAMES_URL = `${TWITCH_API_URL}/games`;\nexport const TWITCH_VIDEOS_URL = `${TWITCH_API_URL}/videos`;\n\nexport const TWITCH_PLAYER_SCRIPT_URL = 'https://player.twitch.tv/js/embed/v1.js';\nexport const TWITCH_CHAT_URL = 'https://www.twitch.tv/embed/%{channel}/chat?darkpopout';\n\nexport const TWITCH_PLAYER_SCRIPT_ID = 'twitch-player-script';\n\nexport const TWITCH_DEFAULT_REFRESH_INTERVAL = 60 * 1000;\n\nexport const TWITCH_STREAM_TYPE_LIVE = 'live';\n","import { TWITCH_DEFAULT_REFRESH_INTERVAL } from '../constants';\nimport { TWITCH_SET_REFRESH_INTERVAL } from '../actionTypes';\n\nconst refreshInterval = (state = TWITCH_DEFAULT_REFRESH_INTERVAL, { type, interval }) => {\n  switch (type) {\n    case TWITCH_SET_REFRESH_INTERVAL:\n      return interval;\n    default:\n      return state;\n  }\n};\n\nexport default refreshInterval;\n","import {\n  TWITCH_FETCH_USER_ERROR,\n  TWITCH_FETCH_FOLLOWED_IDS_ERROR,\n  TWITCH_FETCH_FOLLOWED_USERS_ERROR,\n  TWITCH_FETCH_STREAMS_ERROR,\n  TWITCH_FETCH_GAMES_ERROR,\n  TWITCH_CLEAR_ERRORS,\n} from '../actionTypes';\n\nconst errors = (state = {}, { type, error }) => {\n  switch (type) {\n    case TWITCH_FETCH_USER_ERROR:\n      return { ...state, user: error };\n    case TWITCH_FETCH_FOLLOWED_IDS_ERROR:\n      return { ...state, followedIds: error };\n    case TWITCH_FETCH_FOLLOWED_USERS_ERROR:\n      return { ...state, followed: error };\n    case TWITCH_FETCH_STREAMS_ERROR:\n      return { ...state, streams: error };\n    case TWITCH_FETCH_GAMES_ERROR:\n      return { ...state, games: error };\n    case TWITCH_CLEAR_ERRORS:\n      return {};\n    default:\n      return state;\n  }\n};\n\nexport default errors;\n","import { throttle, pick } from 'lodash';\nimport { utils } from 'shared';\n\nconst LOCAL_STORAGE_STATE_KEY = 'state';\n\nexport const getInitialState = () => utils.loadFromLocalStorage(LOCAL_STORAGE_STATE_KEY) || {};\n\nexport const enableStatePersistence = (store, configuration) => store\n  .subscribe(throttle(\n    () => utils.saveInLocalStorage(LOCAL_STORAGE_STATE_KEY, pick(store.getState(), configuration)),\n    100,\n  ));\n","import { combineReducers } from 'redux';\nimport token from './token';\nimport {\n  user,\n  isFetchingUser,\n  fetchedUserSuccessfully,\n} from './user';\nimport {\n  followedIds,\n  isFetchingFollowedIds,\n  fetchedFollowedIdsSuccessfully,\n} from './followedIds';\nimport {\n  followed,\n  isFetchingFollowed,\n  fetchedFollowedSuccessfully,\n} from './followed';\nimport {\n  streams,\n  isFetchingStreams,\n  fetchedStreamsSuccessfully,\n} from './streams';\nimport {\n  games,\n  isFetchingGames,\n  fetchedGamesSuccessfully,\n} from './games';\nimport {\n  videos,\n  isFetchingVideos,\n  fetchedVideosSuccessfully,\n} from './videos';\nimport channel from './channel';\nimport video from './video';\nimport showChat from './showChat';\nimport showVideos from './showVideos';\nimport refreshInterval from './refreshInterval';\nimport errors from './errors';\n\nconst twitch = combineReducers({\n  token,\n  user,\n  isFetchingUser,\n  fetchedUserSuccessfully,\n  followedIds,\n  isFetchingFollowedIds,\n  fetchedFollowedIdsSuccessfully,\n  followed,\n  isFetchingFollowed,\n  fetchedFollowedSuccessfully,\n  streams,\n  isFetchingStreams,\n  fetchedStreamsSuccessfully,\n  games,\n  isFetchingGames,\n  fetchedGamesSuccessfully,\n  videos,\n  isFetchingVideos,\n  fetchedVideosSuccessfully,\n  channel,\n  video,\n  showChat,\n  showVideos,\n  refreshInterval,\n  errors,\n});\n\nexport default twitch;\n","import { combineReducers } from 'redux';\nimport { SIDEBAR_SET_STATE } from './actionTypes';\n\nconst isOpen = (state = false, { type, open }) => {\n  switch (type) {\n    case SIDEBAR_SET_STATE:\n      return open;\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  isOpen,\n});\n","export const SIDEBAR_SET_STATE = 'SIDEBAR_SET_STATE';\n","import { combineReducers } from 'redux';\nimport twitch from 'twitch/reducers';\nimport sidebar from 'sidebar/reducers';\n\nexport default combineReducers({\n  twitch,\n  sidebar,\n});\n","const persistenceConfiguration = [\n  'twitch.token',\n  'twitch.channel',\n  'twitch.video',\n  'twitch.showChat',\n  'twitch.refreshInterval',\n];\n\nexport default persistenceConfiguration;\n","import { rootReducer, persistenceConfiguration } from 'rootReducer';\nimport { getInitialState, enableStatePersistence } from './persistence';\nimport configureStore from './configureStore';\n\nconst initialState = getInitialState();\nconst store = configureStore(rootReducer, initialState);\nenableStatePersistence(store, persistenceConfiguration);\n\nexport default store;\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\n\nconst configureStore = (rootReducer, initialState) => {\n  const enhancers = [\n    applyMiddleware(thunk),\n  ];\n\n  const composedEnhancers = composeWithDevTools(...enhancers);\n\n  const store = createStore(\n    rootReducer,\n    initialState,\n    composedEnhancers,\n  );\n\n  return store;\n};\n\nexport default configureStore;\n","import { createMuiTheme } from '@material-ui/core';\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#212121',\n      light: '#484848',\n      dark: '#000000',\n    },\n    secondary: {\n      main: '#4a148c',\n      light: '#7c43bd',\n      dark: '#12005e',\n    },\n    background: {\n      default: '#000000',\n      paper: '#080808',\n      dark: '#161616',\n    },\n    text: {\n      primary: '#ffffff',\n      secondary: '#aaaaaa',\n    },\n  },\n  zIndex: {\n    progress: 2000,\n  },\n});\n\nexport default theme;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  makeStyles,\n  AppBar,\n  IconButton,\n  Toolbar,\n} from '@material-ui/core';\nimport { Menu } from '@material-ui/icons';\n\nconst useStyles = makeStyles({\n  appBar: {\n    maxWidth: '100vw',\n  },\n});\n\nconst Header = ({ children, toggleSidebar }) => {\n  const styles = useStyles();\n\n  return (\n    <AppBar position=\"sticky\" className={styles.appBar}>\n      <Toolbar variant=\"dense\">\n        <IconButton color=\"inherit\" onClick={toggleSidebar}>\n          <Menu />\n        </IconButton>\n        {children}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nHeader.defaultProps = {\n  children: null,\n  toggleSidebar: () => {},\n};\n\nHeader.propTypes = {\n  children: PropTypes.node,\n  toggleSidebar: PropTypes.func,\n};\n\nexport default Header;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { SwipeableDrawer } from '@material-ui/core';\n\nconst Sidebar = ({ children, isOpen, setOpen }) => (\n  <SwipeableDrawer\n    disableBackdropTransition\n    keepMounted\n    open={isOpen}\n    onOpen={() => setOpen(true)}\n    onClose={() => setOpen(false)}\n    ModalProps={{ keepMounted: true }}\n  >\n    {children}\n  </SwipeableDrawer>\n);\n\nSidebar.defaultProps = {\n  children: null,\n};\n\nSidebar.propTypes = {\n  children: PropTypes.node,\n  isOpen: PropTypes.bool.isRequired,\n  setOpen: PropTypes.func.isRequired,\n};\n\nexport default Sidebar;\n","import { buildActionCreator } from 'shared';\nimport { SIDEBAR_SET_STATE } from '../actionTypes';\n\nconst sidebarSetState = buildActionCreator(SIDEBAR_SET_STATE, 'open');\n\nexport const setSidebarState = (state) => (dispatch) => dispatch(sidebarSetState(state));\n\nexport const toggleSidebarState = () => (dispatch, getState) => {\n  const { sidebar: { isOpen } } = getState();\n\n  return dispatch(sidebarSetState(!isOpen));\n};\n","import { connect } from 'react-redux';\nimport { setSidebarState } from './actions';\nimport Sidebar from './Sidebar';\n\nconst mapStateToProps = ({ sidebar: { isOpen } }) => ({ isOpen });\n\nconst mapDispatchToProps = (dispatch) => ({\n  setOpen: (state) => dispatch(setSidebarState(state)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n","import { connect } from 'react-redux';\nimport { sidebarActions } from 'sidebar';\nimport Header from './Header';\n\nconst mapDispatchToProps = (dispatch) => ({\n  toggleSidebar: () => dispatch(sidebarActions.toggleSidebarState()),\n});\n\nexport default connect(null, mapDispatchToProps)(Header);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { HeaderContainer } from 'shared/header';\nimport { SidebarContainer } from 'sidebar';\n\nconst useStyles = makeStyles({\n  app: {\n    width: '100%',\n    height: '100%',\n    display: 'grid',\n    gridTemplateRows: 'auto 1fr',\n  },\n});\n\nconst Layout = ({\n  children,\n  header,\n  sidebar,\n  sidebarHeader,\n}) => {\n  const styles = useStyles();\n\n  return (\n    <div className={styles.app}>\n      <HeaderContainer>\n        {header}\n      </HeaderContainer>\n      {children}\n      <SidebarContainer>\n        <HeaderContainer>\n          {sidebarHeader}\n        </HeaderContainer>\n        {sidebar}\n      </SidebarContainer>\n    </div>\n  );\n};\n\nLayout.defaultProps = {\n  children: null,\n  header: null,\n  sidebar: null,\n  sidebarHeader: null,\n};\n\nLayout.propTypes = {\n  children: PropTypes.node,\n  header: PropTypes.node,\n  sidebar: PropTypes.node,\n  sidebarHeader: PropTypes.node,\n};\n\nexport default Layout;\n","import { buildActionCreator } from 'shared';\nimport { TWITCH_SAVE_TOKEN, TWITCH_CLEAR_TOKEN } from '../actionTypes';\n\nexport const saveToken = buildActionCreator(TWITCH_SAVE_TOKEN, 'newToken');\nexport const clearToken = buildActionCreator(TWITCH_CLEAR_TOKEN);\n","import { messages } from 'shared';\n\n/* eslint-disable camelcase */\nconst transformUser = ({\n  id,\n  login,\n  display_name,\n  profile_image_url,\n}) => ({\n  userId: Number(id),\n  login,\n  name: display_name,\n  avatarUrl: profile_image_url,\n});\n\nconst transformStream = ({\n  game_id,\n  title,\n  type,\n  user_id,\n  viewer_count,\n}) => ({\n  userId: Number(user_id),\n  title,\n  type,\n  gameId: Number(game_id),\n  viewers: Number(viewer_count),\n});\n\nconst transformGame = ({\n  id,\n  name,\n}) => ({\n  gameId: Number(id),\n  gameTitle: name,\n});\n\nconst transformVideo = ({\n  created_at,\n  description,\n  duration,\n  id,\n  published_at,\n  thumbnail_url,\n  title,\n  user_id,\n  view_count,\n}) => ({\n  videoId: Number(id),\n  userId: Number(user_id),\n  title,\n  description,\n  duration,\n  createdAt: created_at,\n  publishedAt: published_at,\n  viewCount: Number(view_count),\n  thumbnailUrl: thumbnail_url,\n});\n\n\nexport const transformError = ({\n  error,\n  status,\n  message,\n}) => ({\n  errorType: `${messages.en.twitch.error}: ${error}`,\n  status: Number(status),\n  message,\n});\n\nexport const transformUsers = (data) => data.map((user) => transformUser(user));\nexport const transformUsersFollows = (data) => data.map((item) => Number(item.to_id));\nexport const transformStreams = (data) => data.map((stream) => transformStream(stream));\nexport const transformGames = (data) => data.map((game) => transformGame(game));\nexport const transformVideos = (data) => data.map((video) => transformVideo(video));\n\nexport const filterAndTransformGameIds = (streams, games) => streams\n  .filter(({ gameId }) => !games.find((game) => gameId === game.gameId))\n  .filter(({ gameId }) => gameId !== 0)\n  .map(({ gameId }) => gameId);\n","import { buildActionCreator, buildRequestActionCreator } from 'shared';\nimport { getTwitchClientID } from '../utils';\nimport { TWITCH_CLEAR_ERRORS } from '../actionTypes';\nimport { transformError } from '../transform';\n\nexport const clearErrors = buildActionCreator(TWITCH_CLEAR_ERRORS);\n\nexport const buildTwitchRequestActionCreator = (options) => (dispatch, getState) => {\n  const { twitch: { token } } = getState();\n\n  const {\n    headers,\n    transform,\n    ...optionParams\n  } = options;\n\n  const twitchHeaders = {\n    'Client-ID': getTwitchClientID(),\n  };\n\n  if (token) {\n    twitchHeaders.Authorization = `Bearer ${token}`;\n  }\n\n  Object.assign(twitchHeaders, headers);\n\n  const transformFunction = ({\n    data,\n    ...other\n  }) => ({\n    data: transform(data),\n    ...other,\n  });\n\n  const combineFunction = (list) => list.reduce((prev, next) => ({\n    data: [...prev.data, ...next.data],\n  }), { data: [] });\n\n  return dispatch(buildRequestActionCreator({\n    ...optionParams,\n    headers: twitchHeaders,\n    transform: transformFunction,\n    combine: combineFunction,\n    transformError,\n  }));\n};\n","import moment from 'moment';\nimport 'moment-duration-format';\nimport { utils, messages } from 'shared';\nimport {\n  TWITCH_AUTHORIZATION_URL,\n  TWITCH_CHAT_URL,\n  TWITCH_PLAYER_SCRIPT_URL,\n  TWITCH_PLAYER_SCRIPT_ID,\n  TWITCH_STREAM_TYPE_LIVE,\n} from './constants';\n\nexport const getTwitchClientID = () => process.env.REACT_APP_TWITCH_CLIENT_ID;\nexport const getRedirectUrl = () => `${new URL(window.location.href).origin}${utils.getPublicUrl()}`;\nexport const getAuthorizationUrl = () => `${TWITCH_AUTHORIZATION_URL}?${utils.createQueryParameters({\n  client_id: getTwitchClientID(),\n  redirect_uri: getRedirectUrl(),\n  response_type: 'token',\n})}`;\n\nexport const getChatUrl = (channel) => TWITCH_CHAT_URL.replace('%{channel}', channel);\nexport const getThumbnailUrl = (thumbnail, width, height) => thumbnail.replace('%{width}', width).replace('%{height}', height);\n\nexport const getDurationText = (duration) => moment.duration(`PT${duration}`.toUpperCase()).format('HH:mm:ss');\nexport const getViewCountText = (viewCount) => `${viewCount} ${messages.en.twitch.labels.views}`;\nexport const getPublishedAtText = (publishedAt) => moment(publishedAt).fromNow();\n\nexport const isStreamLive = (type) => type === TWITCH_STREAM_TYPE_LIVE;\n\nexport const loadTwitchPlayer = () => new Promise((resolve) => {\n  const scriptExists = Boolean(document.getElementById(TWITCH_PLAYER_SCRIPT_ID));\n  if (!scriptExists) {\n    const script = document.createElement('script');\n    script.setAttribute('src', TWITCH_PLAYER_SCRIPT_URL);\n    script.setAttribute('id', TWITCH_PLAYER_SCRIPT_ID);\n    script.addEventListener('load', resolve);\n    document.body.appendChild(script);\n  } else {\n    resolve();\n  }\n});\n","import { buildActionCreator } from 'shared';\nimport { buildTwitchRequestActionCreator } from './common';\nimport { TWITCH_FETCH_USER, TWITCH_CLEAR_USER } from '../actionTypes';\nimport { TWITCH_USERS_URL } from '../constants';\nimport { transformUsers } from '../transform';\n\nexport const fetchUsers = (options) => (dispatch) => (\n  dispatch(buildTwitchRequestActionCreator({\n    ...options,\n    url: TWITCH_USERS_URL,\n    transform: transformUsers,\n  }))\n);\n\nexport const clearUser = buildActionCreator(TWITCH_CLEAR_USER);\n\nexport const fetchUser = () => (dispatch, getState) => {\n  const { twitch: { token } } = getState();\n\n  if (!token) {\n    return null;\n  }\n\n  return dispatch(fetchUsers({\n    baseAction: TWITCH_FETCH_USER,\n  }));\n};\n","import { chunk } from 'lodash';\nimport { buildActionCreator } from 'shared';\nimport { buildTwitchRequestActionCreator } from './common';\nimport { fetchUsers } from './fetchUsers';\nimport { TWITCH_USERS_FOLLOWS_URL } from '../constants';\nimport {\n  TWITCH_FETCH_FOLLOWED_IDS,\n  TWITCH_CLEAR_FOLLOWED_IDS,\n  TWITCH_FETCH_FOLLOWED_USERS,\n  TWITCH_CLEAR_FOLLOWED_USERS,\n} from '../actionTypes';\nimport { transformUsersFollows } from '../transform';\n\nexport const clearFollowedIds = buildActionCreator(TWITCH_CLEAR_FOLLOWED_IDS);\nexport const clearFollowedUsers = buildActionCreator(TWITCH_CLEAR_FOLLOWED_USERS);\nexport const clearFollowed = () => (dispatch) => {\n  dispatch(clearFollowedIds());\n  dispatch(clearFollowedUsers());\n};\n\nexport const fetchFollowedIds = () => (dispatch, getState) => {\n  const { twitch: { user: { userId }, followedIds: { cursor } } } = getState();\n\n  if (!userId) {\n    return null;\n  }\n\n  return dispatch(buildTwitchRequestActionCreator({\n    baseAction: TWITCH_FETCH_FOLLOWED_IDS,\n    url: TWITCH_USERS_FOLLOWS_URL,\n    query: { from_id: userId, first: 100, after: cursor },\n    transform: transformUsersFollows,\n  }));\n};\n\nexport const fetchFollowedUsers = () => (dispatch, getState) => {\n  const { twitch: { followedIds: { list }, followed } } = getState();\n\n  const filteredUsers = list.filter((id) => !followed.find(({ userId }) => userId === id));\n\n  if (filteredUsers.length === 0) {\n    return null;\n  }\n\n  return dispatch(fetchUsers({\n    baseAction: TWITCH_FETCH_FOLLOWED_USERS,\n    query: chunk(filteredUsers, 100).map((id) => ({ id })),\n  }));\n};\n\nexport const fetchFollowed = () => async (dispatch) => {\n  await dispatch(fetchFollowedIds());\n  await dispatch(fetchFollowedUsers());\n};\n","import { chunk } from 'lodash';\nimport { buildActionCreator } from 'shared';\nimport { buildTwitchRequestActionCreator } from './common';\nimport { TWITCH_GAMES_URL } from '../constants';\nimport { TWITCH_FETCH_GAMES, TWITCH_CLEAR_GAMES } from '../actionTypes';\nimport { transformGames, filterAndTransformGameIds } from '../transform';\n\nexport const clearGames = buildActionCreator(TWITCH_CLEAR_GAMES);\n\nexport const fetchGames = () => (dispatch, getState) => {\n  const { twitch: { streams, games } } = getState();\n\n  const filteredGames = filterAndTransformGameIds(streams, games);\n\n  if (filteredGames.length === 0) {\n    return null;\n  }\n\n  return dispatch(buildTwitchRequestActionCreator({\n    baseAction: TWITCH_FETCH_GAMES,\n    url: TWITCH_GAMES_URL,\n    query: chunk(filteredGames, 100).map((ids) => ({ id: ids })),\n    transform: transformGames,\n  }));\n};\n","import { chunk } from 'lodash';\nimport { buildActionCreator } from 'shared';\nimport { buildTwitchRequestActionCreator } from './common';\nimport { fetchGames } from './fetchGames';\nimport { TWITCH_STREAMS_URL } from '../constants';\nimport { TWITCH_FETCH_STREAMS, TWITCH_CLEAR_STREAMS } from '../actionTypes';\nimport { transformStreams } from '../transform';\n\nexport const clearStreams = buildActionCreator(TWITCH_CLEAR_STREAMS);\n\nexport const fetchStreams = () => (dispatch, getState) => {\n  const { twitch: { followedIds: { list } } } = getState();\n\n  if (list.length === 0) {\n    return null;\n  }\n\n  return dispatch(buildTwitchRequestActionCreator({\n    baseAction: TWITCH_FETCH_STREAMS,\n    url: TWITCH_STREAMS_URL,\n    query: chunk(list, 100).map((ids) => ({ user_id: ids })),\n    transform: transformStreams,\n  }))\n    .then(() => dispatch(fetchGames()));\n};\n","import { createSelector } from 'reselect';\nimport { utils } from 'shared';\n\nexport const getChannel = (twitch) => twitch.channel;\nexport const getFollowed = (twitch) => twitch.followed;\nexport const getStreams = (twitch) => twitch.streams;\nexport const getGames = (twitch) => twitch.games;\n\nexport const getSelectedChannel = createSelector(\n  getChannel,\n  getFollowed,\n  (channel, followed) => followed.find(({ login }) => login === channel) || {},\n);\n\nexport const getSelectedStream = createSelector(\n  getSelectedChannel,\n  getStreams,\n  (selectedChannel, streams) => streams\n    .find(({ userId }) => userId === selectedChannel.userId) || {},\n);\n\nexport const getChannelAvatarUrl = createSelector(\n  getSelectedChannel,\n  (selectedChannel) => selectedChannel.avatarUrl,\n);\n\nexport const getChannelName = createSelector(\n  getSelectedChannel,\n  (selectedChannel) => selectedChannel.name,\n);\n\nexport const getStreamTitle = createSelector(\n  getSelectedStream,\n  (selectedStream) => selectedStream.title,\n);\n\nexport const getStreamsWithGames = createSelector(\n  getStreams,\n  getGames,\n  (streams, games) => utils.mergeBy(streams, games, 'gameId'),\n);\n\nexport const getChannels = createSelector(\n  getFollowed,\n  getStreamsWithGames,\n  (followed, streams) => utils.sortDescBy(utils.mergeBy(followed, streams, 'userId'), 'viewers'),\n);\n","import { buildActionCreator } from 'shared';\nimport { buildTwitchRequestActionCreator } from './common';\nimport { TWITCH_VIDEOS_URL } from '../constants';\nimport { TWITCH_FETCH_VIDEOS, TWITCH_CLEAR_VIDEOS } from '../actionTypes';\nimport { transformVideos } from '../transform';\nimport { getSelectedChannel } from '../selectors';\n\nexport const clearVideos = buildActionCreator(TWITCH_CLEAR_VIDEOS);\n\nexport const fetchVideos = () => (dispatch, getState) => {\n  const { twitch } = getState();\n\n  const { userId } = getSelectedChannel(twitch);\n\n  if (!userId) {\n    return null;\n  }\n\n  const { videos: { cursor } } = twitch;\n\n  return dispatch(buildTwitchRequestActionCreator({\n    baseAction: TWITCH_FETCH_VIDEOS,\n    url: TWITCH_VIDEOS_URL,\n    query: { user_id: userId, first: 16, after: cursor },\n    transform: transformVideos,\n  }));\n};\n","import { buildActionCreator } from 'shared';\nimport { TWITCH_SET_CHANNEL, TWITCH_CLEAR_CHANNEL } from '../actionTypes';\n\nexport const setChannel = buildActionCreator(TWITCH_SET_CHANNEL, 'selectedChannel');\nexport const clearChannel = buildActionCreator(TWITCH_CLEAR_CHANNEL);\n","import { buildActionCreator } from 'shared';\nimport { TWITCH_SET_VIDEO, TWITCH_CLEAR_VIDEO } from '../actionTypes';\n\nexport const setVideo = (video) => buildActionCreator(TWITCH_SET_VIDEO, 'selectedVideo')(`v${video}`);\nexport const clearVideo = buildActionCreator(TWITCH_CLEAR_VIDEO);\n","import { clearToken } from './saveToken';\nimport { clearUser } from './fetchUsers';\nimport { clearFollowed } from './fetchFollowed';\nimport { clearStreams } from './fetchStreams';\nimport { clearGames } from './fetchGames';\nimport { clearVideos } from './fetchVideos';\nimport { clearChannel } from './setChannel';\nimport { clearVideo } from './setVideo';\nimport { getAuthorizationUrl } from '../utils';\n\nexport const twitchLogin = () => () => {\n  window.location.replace(getAuthorizationUrl());\n};\n\nexport const twitchLogout = () => (dispatch) => {\n  dispatch(clearToken());\n  dispatch(clearUser());\n  dispatch(clearFollowed());\n  dispatch(clearStreams());\n  dispatch(clearGames());\n  dispatch(clearVideos());\n  dispatch(clearChannel());\n  dispatch(clearVideo());\n};\n","import { fetchUser, clearUser } from './fetchUsers';\nimport { fetchFollowed, clearFollowed } from './fetchFollowed';\nimport { fetchStreams, clearStreams } from './fetchStreams';\nimport { clearGames } from './fetchGames';\nimport { clearVideos } from './fetchVideos';\n\nexport const fetchAll = () => async (dispatch) => {\n  await dispatch(fetchUser());\n  await dispatch(fetchFollowed());\n  await dispatch(fetchStreams());\n};\n\nexport const clearAll = () => (dispatch) => {\n  dispatch(clearUser());\n  dispatch(clearFollowed());\n  dispatch(clearStreams());\n  dispatch(clearGames());\n  dispatch(clearVideos());\n};\n","import { buildActionCreator } from 'shared';\nimport { TWITCH_SET_REFRESH_INTERVAL } from '../actionTypes';\n\nexport const setRefreshInterval = buildActionCreator(TWITCH_SET_REFRESH_INTERVAL, 'interval');\n","import { buildActionCreator } from 'shared';\nimport { TWITCH_SET_SHOW_CHAT_STATE } from '../actionTypes';\n\nconst appSetShowChatState = buildActionCreator(TWITCH_SET_SHOW_CHAT_STATE, 'show');\n\nexport const setShowChatState = (state) => (dispatch) => dispatch(appSetShowChatState(state));\n\nexport const toggleShowChatState = () => (dispatch, getState) => {\n  const { twitch: { showChat } } = getState();\n\n  return dispatch(appSetShowChatState(!showChat));\n};\n","import { buildActionCreator } from 'shared';\nimport { TWITCH_SET_SHOW_VIDEOS_STATE } from '../actionTypes';\n\nconst appSetShowVideosState = buildActionCreator(TWITCH_SET_SHOW_VIDEOS_STATE, 'show');\n\nexport const setShowVideosState = (state) => (dispatch) => dispatch(appSetShowVideosState(state));\n\nexport const toggleShowVideosState = () => (dispatch, getState) => {\n  const { twitch: { showVideos } } = getState();\n\n  return dispatch(appSetShowVideosState(!showVideos));\n};\n","import PropTypes from 'prop-types';\n\nexport const channel = {\n  avatarUrl: PropTypes.string,\n  gameTitle: PropTypes.string,\n  login: PropTypes.string,\n  name: PropTypes.string,\n  title: PropTypes.string,\n  type: PropTypes.string,\n  userId: PropTypes.number,\n  viewers: PropTypes.number,\n};\nexport const channelType = PropTypes.shape(channel);\nexport const channelsType = PropTypes.arrayOf(channelType);\n\nexport const video = {\n  videoId: PropTypes.number,\n  userId: PropTypes.number,\n  title: PropTypes.string,\n  description: PropTypes.string,\n  duration: PropTypes.string,\n  createdAt: PropTypes.string,\n  publishedAt: PropTypes.string,\n  viewCount: PropTypes.number,\n  thumbnailUrl: PropTypes.string,\n};\nexport const videoType = PropTypes.shape(video);\nexport const videosType = PropTypes.arrayOf(videoType);\n","import PropTypes from 'prop-types';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { loadTwitchPlayer } from '../utils';\n\nconst useStyles = makeStyles({\n  player: {\n    display: 'flex',\n    width: '100%',\n    height: '100%',\n    '& iframe': {\n      width: '100%',\n      height: '100%',\n    },\n  },\n});\n\nconst TwitchPlayer = ({ channel, targetID, video }) => {\n  const [player, setPlayer] = useState(null);\n  const classes = useStyles();\n\n  const initPlayer = useCallback(async () => {\n    await loadTwitchPlayer();\n    if (!player) {\n      setPlayer(new window.Twitch.Player(targetID, { video, channel }));\n    }\n  }, [targetID, player, video, channel]);\n\n  useEffect(() => {\n    initPlayer();\n  }, [initPlayer]);\n\n  useEffect(() => {\n    if (player) {\n      if (video) {\n        player.setVideo(video);\n      } else if (channel) {\n        player.setChannel(channel);\n      } else {\n        player.pause();\n      }\n    }\n  }, [player, video, channel]);\n\n  return (\n    <div id={targetID} className={classes.player} />\n  );\n};\n\nTwitchPlayer.defaultProps = {\n  channel: null,\n  targetID: 'twitch-player',\n  video: null,\n};\n\nTwitchPlayer.propTypes = {\n  channel: PropTypes.string,\n  targetID: PropTypes.string,\n  video: PropTypes.string,\n};\n\nexport default TwitchPlayer;\n","import { connect } from 'react-redux';\nimport TwitchPlayer from './TwitchPlayer';\n\nconst mapStateToProps = ({ twitch: { channel, video } }) => ({ channel, video });\n\nexport default connect(mapStateToProps)(TwitchPlayer);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { getChatUrl } from '../utils';\n\nconst useStyles = makeStyles({\n  chat: {\n    display: 'flex',\n    width: '100%',\n    height: '100%',\n  },\n});\n\nconst TwitchChat = ({ channel, title }) => {\n  const styles = useStyles();\n  const url = getChatUrl(channel);\n\n  return (\n    <iframe className={styles.chat} frameBorder=\"0\" src={url} title={title} />\n  );\n};\n\nTwitchChat.defaultProps = {\n  channel: null,\n  title: 'twitch-chat',\n};\n\nTwitchChat.propTypes = {\n  channel: PropTypes.string,\n  title: PropTypes.string,\n};\n\nexport default TwitchChat;\n","import { connect } from 'react-redux';\nimport TwitchChat from './TwitchChat';\n\nconst mapStateToProps = ({ twitch: { channel } }) => ({ channel });\n\nexport default connect(mapStateToProps)(TwitchChat);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { TwitchPlayerContainer } from '../player';\nimport { TwitchChatContainer } from '../chat';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    height: '100%',\n    display: 'flex',\n    flexFlow: 'row',\n    [theme.breakpoints.down('xs')]: {\n      flexFlow: 'column',\n    },\n  },\n  playerContainer: {\n    flexGrow: 1,\n    [theme.breakpoints.down('xs')]: {\n      flexGrow: 0,\n      position: 'relative',\n      paddingTop: 'calc(100% / (16/9))',\n      '& div': {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n      },\n    },\n  },\n  chatContainer: {\n    minWidth: '335px',\n    flexGrow: 0,\n    [theme.breakpoints.down('xs')]: {\n      flexGrow: 1,\n    },\n  },\n}));\n\nconst PlayerWithChat = ({ isVisible, showChat }) => {\n  const styles = useStyles();\n\n  return isVisible && (\n    <div className={styles.container}>\n      <div className={styles.playerContainer}>\n        <TwitchPlayerContainer />\n      </div>\n      {showChat && (\n        <div className={styles.chatContainer}>\n          <TwitchChatContainer />\n        </div>\n      )}\n    </div>\n  );\n};\n\nPlayerWithChat.defaultProps = {\n  isVisible: false,\n  showChat: true,\n};\n\nPlayerWithChat.propTypes = {\n  isVisible: PropTypes.bool,\n  showChat: PropTypes.bool,\n};\n\nexport default PlayerWithChat;\n","import { connect } from 'react-redux';\nimport PlayerWithChat from './PlayerWithChat';\n\nconst mapStateToProps = ({\n  twitch: {\n    channel,\n    showChat,\n  },\n}) => ({\n  isVisible: Boolean(channel),\n  showChat,\n});\n\nexport default connect(mapStateToProps)(PlayerWithChat);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { makeStyles, Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    padding: '1px 5px',\n    position: 'absolute',\n    opacity: 0.8,\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: theme.palette.common.black,\n  },\n  typography: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n}));\n\nconst VideoThumbnailLabel = ({\n  bottom,\n  children,\n  left,\n  offsetHorizontal,\n  offsetVertical,\n  right,\n  top,\n}) => {\n  const styles = useStyles();\n\n  return (\n    <div\n      className={styles.container}\n      style={{\n        bottom: bottom ? offsetVertical : null,\n        left: left ? offsetHorizontal : null,\n        right: right ? offsetHorizontal : null,\n        top: top ? offsetVertical : null,\n      }}\n    >\n      <Typography\n        className={styles.typography}\n        component=\"div\"\n        variant=\"body2\"\n        color=\"textPrimary\"\n      >\n        {children}\n      </Typography>\n    </div>\n  );\n};\n\nVideoThumbnailLabel.defaultProps = {\n  bottom: false,\n  children: null,\n  left: false,\n  offsetHorizontal: '5px',\n  offsetVertical: '5px',\n  right: false,\n  top: false,\n};\n\nVideoThumbnailLabel.propTypes = {\n  children: PropTypes.node,\n  bottom: PropTypes.bool,\n  left: PropTypes.bool,\n  offsetHorizontal: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  offsetVertical: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  right: PropTypes.bool,\n  top: PropTypes.bool,\n};\n\nexport default VideoThumbnailLabel;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport { AccessTime } from '@material-ui/icons';\nimport VideoThumbnailLabel from './VideoThumbnailLabel';\nimport {\n  getThumbnailUrl,\n  getDurationText,\n  getViewCountText,\n  getPublishedAtText,\n} from '../utils';\n\nconst useStyles = makeStyles(theme => ({\n  thumbnail: {\n    width: '100%',\n    height: 0,\n    position: 'relative',\n    paddingBottom: 'calc(100% / (16/9))',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: '50% 50%',\n    backgroundColor: theme.palette.grey[700],\n  },\n  labelIcon: {\n    marginRight: '5px',\n  },\n}));\n\nconst VideoThumbnail = ({\n  duration,\n  publishedAt,\n  thumbnailHeight,\n  thumbnailUrl,\n  thumbnailWidth,\n  viewCount,\n}) => {\n  const styles = useStyles();\n\n  return (\n    <div\n      className={styles.thumbnail}\n      style={{ backgroundImage: `url(${getThumbnailUrl(thumbnailUrl, thumbnailWidth, thumbnailHeight)})` }}\n    >\n      <VideoThumbnailLabel top left>\n        <AccessTime className={styles.labelIcon} fontSize=\"inherit\" />\n        {getDurationText(duration)}\n      </VideoThumbnailLabel>\n      <VideoThumbnailLabel bottom left>\n        {getViewCountText(viewCount)}\n      </VideoThumbnailLabel>\n      <VideoThumbnailLabel bottom right>\n        {getPublishedAtText(publishedAt)}\n      </VideoThumbnailLabel>\n    </div>\n  );\n};\n\nVideoThumbnail.defaultProps = {\n  duration: '',\n  publishedAt: '',\n  thumbnailHeight: 360,\n  thumbnailUrl: '',\n  thumbnailWidth: 640,\n  viewCount: 0,\n};\n\nVideoThumbnail.propTypes = {\n  duration: PropTypes.string,\n  publishedAt: PropTypes.string,\n  thumbnailHeight: PropTypes.number,\n  thumbnailUrl: PropTypes.string,\n  thumbnailWidth: PropTypes.number,\n  viewCount: PropTypes.number,\n};\n\nexport default VideoThumbnail;\n","\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { ButtonBase, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport * as twitchTypes from '../types';\nimport VideoThumbnail from './VideoThumbnail';\n\nconst useStyles = makeStyles(theme => ({\n  tile: {\n    display: 'grid',\n    overflow: 'hidden',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: theme.palette.background.dark,\n    boxShadow: theme.shadows[8],\n  },\n  title: {\n    width: '100%',\n    padding: `${theme.spacing(0.5)}px ${theme.spacing(1.25)}px`,\n    textAlign: 'left',\n  },\n}));\n\nconst VideoTile = ({ className, onVideoClick, video }) => {\n  const styles = useStyles();\n\n  const {\n    duration,\n    publishedAt,\n    thumbnailUrl,\n    title,\n    videoId,\n    viewCount,\n  } = video;\n\n  return (\n    <ButtonBase\n      className={classnames(className, styles.tile)}\n      onClick={() => onVideoClick(videoId)}\n    >\n      <VideoThumbnail\n        duration={duration}\n        publishedAt={publishedAt}\n        thumbnailUrl={thumbnailUrl}\n        viewCount={viewCount}\n      />\n      <Typography className={styles.title} variant=\"body1\" color=\"textPrimary\" noWrap>\n        {title}\n      </Typography>\n    </ButtonBase>\n  );\n};\n\nVideoTile.defaultProps = {\n  className: null,\n  onVideoClick: () => {},\n  video: {},\n};\n\nVideoTile.propTypes = {\n  className: PropTypes.string,\n  onVideoClick: PropTypes.func,\n  video: twitchTypes.videoType,\n};\n\nexport default VideoTile;\n","import { connect } from 'react-redux';\nimport VideoTile from './VideoTile';\nimport { setShowVideosState, setVideo } from '../actions';\n\nconst mapDispatchToProps = (dispatch) => ({\n  onVideoClick: (videoId) => {\n    dispatch(setShowVideosState(false));\n    dispatch(setVideo(videoId));\n  },\n});\n\nexport default connect(null, mapDispatchToProps)(VideoTile);\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useCallback } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { Loader } from 'shared';\nimport VideoTileContainer from './VideoTileContainer';\nimport * as twitchTypes from '../types';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    height: '100%',\n    position: 'relative',\n    overflowY: 'auto',\n    backgroundColor: theme.palette.background.paper,\n  },\n  videos: {\n    padding: theme.spacing(2),\n    paddingTop: theme.spacing(4),\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(380px, 1fr))',\n  },\n  tile: {\n    margin: theme.spacing(2),\n    marginTop: 0,\n  },\n}));\n\nconst TwitchVideos = ({\n  channel,\n  clearData,\n  fetchedAll,\n  fetchData,\n  followed,\n  isLoading,\n  videos,\n}) => {\n  const styles = useStyles();\n\n  useEffect(() => {\n    fetchData();\n    return () => {\n      clearData();\n    };\n  }, [channel, followed, fetchData, clearData]);\n\n  const handleScroll = useCallback(({ target: { scrollHeight, scrollTop, clientHeight } }) => {\n    if (((scrollHeight - scrollTop) <= (clientHeight + 100)) && !isLoading && !fetchedAll) {\n      fetchData();\n    }\n  }, [isLoading, fetchedAll, fetchData]);\n\n  const isInitialLoading = isLoading && videos.length === 0;\n  const isSubsequentLoading = isLoading && !isInitialLoading;\n\n  return (\n    <div className={styles.container} onScroll={handleScroll}>\n      <Loader variant=\"linear\" position=\"sticky\" isLoading={isSubsequentLoading} zIndex={1} />\n      <Loader variant=\"overlay\" position=\"absolute\" isLoading={isInitialLoading} zIndex={1} />\n      <div className={styles.videos}>\n        {videos.map(video => (\n          <VideoTileContainer\n            key={video.videoId}\n            className={styles.tile}\n            video={video}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nTwitchVideos.propTypes = {\n  channel: PropTypes.string.isRequired,\n  clearData: PropTypes.func.isRequired,\n  fetchedAll: PropTypes.bool.isRequired,\n  fetchData: PropTypes.func.isRequired,\n  followed: twitchTypes.channelsType.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  videos: twitchTypes.videosType.isRequired,\n};\n\nexport default TwitchVideos;\n","import { connect } from 'react-redux';\nimport TwitchVideos from './TwitchVideos';\nimport { fetchVideos, clearVideos } from '../actions';\n\nconst mapStateToProps = ({\n  twitch: {\n    channel,\n    followed,\n    videos: {\n      list,\n      fetchedAll,\n    },\n    isFetchingVideos,\n  },\n}) => ({\n  channel,\n  followed,\n  videos: list,\n  fetchedAll,\n  isLoading: isFetchingVideos,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  clearData: () => dispatch(clearVideos()),\n  fetchData: () => dispatch(fetchVideos()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TwitchVideos);\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\n\nconst TwitchLogic = ({\n  channel,\n  clearUrl,\n  fetchInitialData,\n  getToken,\n  refreshData,\n  refreshInterval,\n  refreshVideos,\n  saveToken,\n}) => {\n  useEffect(() => {\n    const token = getToken();\n    if (token) {\n      saveToken(token);\n      clearUrl();\n    }\n  }, [getToken, saveToken, clearUrl]);\n\n  useEffect(() => {\n    fetchInitialData();\n  }, [fetchInitialData]);\n\n  useEffect(() => {\n    const interval = setInterval(refreshData, refreshInterval);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [refreshData, refreshInterval]);\n\n  return null;\n};\n\nTwitchLogic.propTypes = {\n  clearUrl: PropTypes.func.isRequired,\n  fetchInitialData: PropTypes.func.isRequired,\n  getToken: PropTypes.func.isRequired,\n  refreshData: PropTypes.func.isRequired,\n  refreshInterval: PropTypes.number.isRequired,\n  refreshVideos: PropTypes.func.isRequired,\n  saveToken: PropTypes.func.isRequired,\n};\n\nexport default TwitchLogic;\n","import { connect } from 'react-redux';\nimport { utils } from 'shared';\nimport TwitchLogic from './TwitchLogic';\nimport {\n  fetchAll,\n  fetchStreams,\n  saveToken,\n  clearVideos,\n  fetchVideos,\n} from '../actions';\n\nconst mapStateToProps = ({\n  twitch: {\n    channel,\n    refreshInterval,\n  },\n}) => ({\n  channel,\n  refreshInterval,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  clearUrl: () => utils.removeHashAndParametersFromUrl(),\n  fetchInitialData: () => dispatch(fetchAll()),\n  getToken: () => {\n    const parameters = utils.getParamsFromHash();\n    return parameters.access_token;\n  },\n  refreshData: () => dispatch(fetchStreams()),\n  refreshVideos: () => {\n    dispatch(clearVideos());\n    dispatch(fetchVideos());\n  },\n  saveToken: (token) => dispatch(saveToken(token)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TwitchLogic);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  makeStyles,\n  Typography,\n  Slide,\n  Snackbar,\n  SnackbarContent,\n  IconButton,\n} from '@material-ui/core';\nimport { messages } from 'shared';\nimport { Error, Close, Refresh } from '@material-ui/icons';\n\nconst { unknownErrorType, unknownErrorMessage } = messages.en.errors;\n\nconst useStyles = makeStyles(theme => ({\n  error: {\n    color: theme.palette.error.contrastText,\n    backgroundColor: theme.palette.error.dark,\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  icon: {\n    fontSize: 30,\n    marginRight: theme.spacing(1.5),\n  },\n}));\n\nconst TwitchErrorModal = ({\n  error,\n  isModalVisible,\n  onClose,\n  onRefresh,\n}) => {\n  const styles = useStyles();\n\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      TransitionComponent={props => <Slide {...props} direction=\"down\" />}\n      open={isModalVisible}\n      onClose={onClose}\n    >\n      <SnackbarContent\n        className={styles.error}\n        message={(\n          <div className={styles.message}>\n            <Error className={styles.icon} />\n            <div>\n              <Typography variant=\"body1\">{(error && error.errorType) || unknownErrorType}</Typography>\n              <Typography variant=\"body2\">{(error && error.message) || unknownErrorMessage}</Typography>\n            </div>\n          </div>\n        )}\n        action={[\n          <IconButton key=\"refresh\" color=\"inherit\" onClick={onRefresh}>\n            <Refresh />\n          </IconButton>,\n          <IconButton key=\"close\" color=\"inherit\" onClick={onClose}>\n            <Close />\n          </IconButton>,\n        ]}\n      />\n    </Snackbar>\n  );\n};\n\nTwitchErrorModal.defaultProps = {\n  error: null,\n};\n\nTwitchErrorModal.propTypes = {\n  error: PropTypes.shape({\n    errorType: PropTypes.string.isRequired,\n    message: PropTypes.string.isRequired,\n  }),\n  isModalVisible: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onRefresh: PropTypes.func.isRequired,\n};\n\nexport default TwitchErrorModal;\n","import { connect } from 'react-redux';\nimport TwitchErrorModal from './TwitchErrorModal';\nimport { clearErrors, clearAll, fetchAll } from '../actions';\n\nconst mapStateToProps = ({ twitch: { errors } }) => {\n  const {\n    user,\n    followedIds,\n    followed,\n    streams,\n    games,\n  } = errors;\n\n  const firstError = user || followedIds || followed || streams || games;\n\n  return {\n    error: firstError,\n    isModalVisible: Boolean(firstError),\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  onClose: () => dispatch(clearErrors()),\n  onRefresh: () => {\n    dispatch(clearErrors());\n    dispatch(clearAll());\n    dispatch(fetchAll());\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TwitchErrorModal);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Slide } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { PlayerWithChatContainer } from '../playerWithChat';\nimport { TwitchVideosContainer } from '../videos';\nimport { TwitchLogicContainer } from '../logic';\nimport { TwitchErrorModalContainer } from '../errors';\n\nconst useStyles = makeStyles({\n  container: {\n    width: '100%',\n    height: '100%',\n    position: 'relative',\n  },\n  wrapper: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n  },\n});\n\nconst TwitchView = ({ showVideos }) => {\n  const styles = useStyles();\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.wrapper}>\n        <PlayerWithChatContainer />\n      </div>\n      <Slide mountOnEnter unmountOnExit direction=\"down\" in={showVideos}>\n        <div className={styles.wrapper}>\n          <TwitchVideosContainer />\n        </div>\n      </Slide>\n      <TwitchLogicContainer />\n      <TwitchErrorModalContainer />\n    </div>\n  );\n};\n\nTwitchView.defaultProps = {\n  showVideos: false,\n};\n\nTwitchView.propTypes = {\n  showVideos: PropTypes.bool,\n};\n\nexport default TwitchView;\n","import { connect } from 'react-redux';\nimport TwitchView from './TwitchView';\n\nconst mapStateToProps = ({ twitch: { showVideos } }) => ({ showVideos });\n\nexport default connect(mapStateToProps)(TwitchView);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  ListItem,\n  ListItemAvatar,\n  Avatar,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { isStreamLive } from '../../utils';\nimport * as twitchTypes from '../../types';\n\nconst useStyles = makeStyles({\n  dimAvatar: {\n    filter: 'grayscale(100%) brightness(50%)',\n  },\n  container: {\n    width: '100%',\n    display: 'flex',\n    flexFlow: 'column',\n    overflow: 'hidden',\n  },\n  subtitleContainer: {\n    display: 'grid',\n    gridTemplateColumns: '1fr 10px auto',\n  },\n});\n\nconst Channel = ({ changeChannel, channel, isSelected }) => {\n  const styles = useStyles();\n\n  const {\n    avatarUrl,\n    gameTitle,\n    login,\n    name,\n    title,\n    type,\n    viewers,\n  } = channel;\n\n  const isActive = isStreamLive(type);\n\n  return (\n    <ListItem\n      button\n      selected={isSelected}\n      onClick={() => changeChannel(login)}\n    >\n      <ListItemAvatar>\n        <Avatar className={!isActive ? styles.dimAvatar : ''} src={avatarUrl} />\n      </ListItemAvatar>\n      <div className={styles.container} title={title}>\n        <Typography variant=\"body2\" noWrap>{name}</Typography>\n        <div className={styles.subtitleContainer}>\n          <Typography variant=\"body2\" color=\"textSecondary\" noWrap>{gameTitle}</Typography>\n          <div />\n          <Typography variant=\"body2\" color=\"textSecondary\" noWrap>\n            {isActive && `🔴 ${viewers}`}\n          </Typography>\n        </div>\n      </div>\n    </ListItem>\n  );\n};\n\nChannel.propTypes = {\n  changeChannel: PropTypes.func.isRequired,\n  channel: twitchTypes.channelType.isRequired,\n  isSelected: PropTypes.bool.isRequired,\n};\n\nexport default Channel;\n","import { connect } from 'react-redux';\nimport { setSidebarState } from 'sidebar/actions';\nimport Channel from './Channel';\nimport { clearVideo, setChannel } from '../../actions';\n\nconst mapDispatchToProps = (dispatch) => ({\n  changeChannel: (channel) => {\n    dispatch(setSidebarState(false));\n    dispatch(clearVideo());\n    dispatch(setChannel(channel));\n  },\n});\n\nexport default connect(null, mapDispatchToProps)(Channel);\n","import React from 'react';\nimport { List } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { ChannelContainer } from './channel';\nimport * as twitchTypes from '../types';\n\nconst useStyles = makeStyles({\n  list: {\n    minWidth: '400px',\n    maxWidth: '400px',\n  },\n});\n\nconst TwitchChannels = ({ channels, selectedChannel }) => {\n  const styles = useStyles();\n\n  return (\n    <List className={styles.list} dense>\n      {channels.map(channel => (\n        <ChannelContainer\n          key={channel.userId}\n          isSelected={channel.userId === selectedChannel.userId}\n          channel={channel}\n        />\n      ))}\n    </List>\n  );\n};\n\nTwitchChannels.defaultProps = {\n  selectedChannel: {},\n};\n\nTwitchChannels.propTypes = {\n  channels: twitchTypes.channelsType.isRequired,\n  selectedChannel: twitchTypes.channelType,\n};\n\nexport default TwitchChannels;\n","import { connect } from 'react-redux';\nimport TwitchChannels from './TwitchChannels';\nimport { getChannels, getSelectedChannel } from '../selectors';\n\nconst mapStateToProps = ({ twitch }) => ({\n  channels: getChannels(twitch),\n  selectedChannel: getSelectedChannel(twitch),\n});\n\nexport default connect(mapStateToProps)(TwitchChannels);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Avatar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { messages } from 'shared';\n\nconst useStyles = makeStyles({\n  avatar: {\n    marginLeft: '8px',\n  },\n  text: {\n    flexGrow: 1,\n    marginLeft: '16px',\n  },\n});\n\nconst Title = ({\n  avatarUrl,\n  text,\n  secondaryText,\n  showFullTitle,\n}) => {\n  const styles = useStyles();\n\n  return (\n    <>\n      {avatarUrl && <Avatar className={styles.avatar} src={avatarUrl} />}\n      <Typography className={styles.text} noWrap variant=\"h6\">\n        {text || messages.en.app.title}\n        {showFullTitle && secondaryText && ` - ${secondaryText}`}\n      </Typography>\n    </>\n  );\n};\n\nTitle.defaultProps = {\n  avatarUrl: null,\n  text: null,\n  secondaryText: '',\n  showFullTitle: false,\n};\n\nTitle.propTypes = {\n  avatarUrl: PropTypes.string,\n  text: PropTypes.string,\n  secondaryText: PropTypes.string,\n  showFullTitle: PropTypes.bool,\n};\n\nexport default React.memo(Title);\n","import { connect } from 'react-redux';\nimport { getChannelAvatarUrl, getChannelName, getStreamTitle } from 'twitch/selectors';\nimport Title from './Title';\n\nconst mapStateToProps = ({ twitch }) => ({\n  avatarUrl: getChannelAvatarUrl(twitch),\n  text: getChannelName(twitch),\n  secondaryText: getStreamTitle(twitch),\n});\n\nexport default connect(mapStateToProps)(Title);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconButton, ButtonBase, Tooltip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n  buttonBase: {\n    padding: '4px',\n  },\n});\n\nconst ActionButton = ({\n  children,\n  icon,\n  onClick,\n  tooltip,\n}) => {\n  const styles = useStyles();\n\n  return (\n    <Tooltip title={tooltip}>\n      {icon ? (\n        <IconButton onClick={onClick}>\n          {children}\n        </IconButton>\n      ) : (\n        <ButtonBase className={styles.buttonBase} onClick={onClick}>\n          {children}\n        </ButtonBase>\n      )}\n    </Tooltip>\n  );\n};\n\nActionButton.defaultProps = {\n  icon: false,\n  tooltip: '',\n};\n\nActionButton.propTypes = {\n  children: PropTypes.node.isRequired,\n  icon: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  tooltip: PropTypes.string,\n};\n\nexport default React.memo(ActionButton);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Avatar } from '@material-ui/core';\nimport { Person } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/styles';\nimport { messages } from 'shared';\nimport { twitchActions } from 'twitch';\nimport ActionButton from './ActionButton';\n\nconst { tooltips } = messages.en.actions;\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n  },\n}));\n\nconst AuthenticationButton = ({\n  avatarUrl,\n  isLoggedIn,\n  login,\n  logout,\n}) => {\n  const styles = useStyles();\n\n  return (\n    <div className={styles.container}>\n      {isLoggedIn ? (\n        <ActionButton tooltip={tooltips.logout} onClick={logout}>\n          <Avatar src={avatarUrl} />\n        </ActionButton>\n      ) : (\n        <ActionButton icon tooltip={tooltips.login} onClick={login}>\n          <Person />\n        </ActionButton>\n      )}\n    </div>\n  );\n};\n\nAuthenticationButton.defaultProps = {\n  avatarUrl: null,\n};\n\nAuthenticationButton.propTypes = {\n  avatarUrl: PropTypes.string,\n  isLoggedIn: PropTypes.bool.isRequired,\n  login: PropTypes.func.isRequired,\n  logout: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = ({ twitch: { user: { userId, avatarUrl } } }) => ({\n  avatarUrl,\n  isLoggedIn: Boolean(userId),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  login: () => dispatch(twitchActions.twitchLogin()),\n  logout: () => dispatch(twitchActions.twitchLogout()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthenticationButton);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Close, ArrowBack } from '@material-ui/icons';\nimport { messages } from 'shared';\nimport { twitchActions } from 'twitch';\nimport ActionButton from './ActionButton';\n\nconst { tooltips } = messages.en.actions;\n\nconst CloseStreamButton = ({\n  closeStreamOrVideo,\n  show,\n  tooltip,\n  icon,\n}) => (\n  show && (\n    <ActionButton\n      icon\n      tooltip={tooltip}\n      onClick={closeStreamOrVideo}\n    >\n      {{\n        close: (<Close />),\n        back: (<ArrowBack />),\n      }[icon]}\n    </ActionButton>\n  )\n);\n\nCloseStreamButton.propTypes = {\n  closeStreamOrVideo: PropTypes.func.isRequired,\n  icon: PropTypes.oneOf(['close', 'back']),\n  show: PropTypes.bool.isRequired,\n  tooltip: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = ({ twitch: { channel, video } }) => ({ channel, video });\n\nconst mapDispatchToProps = dispatch => ({\n  closeStream: () => {\n    dispatch(twitchActions.clearChannel());\n    dispatch(twitchActions.setShowVideosState(false));\n  },\n  closeVideo: () => {\n    dispatch(twitchActions.clearVideo());\n    dispatch(twitchActions.setShowVideosState(false));\n  },\n});\n\nconst mergeProps = ({ channel, video }, { closeStream, closeVideo }) => ({\n  closeStreamOrVideo: () => {\n    if (video) {\n      closeVideo();\n    } else {\n      closeStream();\n    }\n  },\n  icon: (video && 'back') || (channel && 'close') || null,\n  tooltip: video ? tooltips.closeVideo : tooltips.closeStream,\n  show: Boolean(video || channel),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps, mergeProps)(CloseStreamButton);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Chat, ChatOutlined } from '@material-ui/icons';\nimport { messages } from 'shared';\nimport { twitchActions } from 'twitch';\nimport ActionButton from './ActionButton';\n\nconst { tooltips } = messages.en.actions;\n\nconst ToggleChatButton = ({ show, showChat, toggleChat }) => (\n  show && (\n    <ActionButton\n      icon\n      tooltip={showChat ? tooltips.hideChat : tooltips.showChat}\n      onClick={toggleChat}\n    >\n      {showChat ? <Chat /> : <ChatOutlined />}\n    </ActionButton>\n  )\n);\n\nToggleChatButton.propTypes = {\n  showChat: PropTypes.bool.isRequired,\n  toggleChat: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = ({\n  twitch: {\n    channel,\n    showChat,\n  },\n}) => ({\n  show: Boolean(channel),\n  showChat,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  toggleChat: () => dispatch(twitchActions.toggleShowChatState()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToggleChatButton);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Videocam, VideocamOutlined } from '@material-ui/icons';\nimport { messages } from 'shared';\nimport { twitchActions } from 'twitch';\nimport ActionButton from './ActionButton';\n\nconst RefreshDataButton = ({ changeView, show, showVideos }) => (\n  show && (\n    <ActionButton\n      icon\n      tooltip={messages.en.actions.tooltips.showVideos}\n      onClick={changeView}\n    >\n      {showVideos ? (\n        <Videocam />\n      ) : (\n        <VideocamOutlined />\n      )}\n    </ActionButton>\n  )\n);\n\nRefreshDataButton.propTypes = {\n  changeView: PropTypes.func.isRequired,\n  show: PropTypes.bool.isRequired,\n  showVideos: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = ({\n  twitch: {\n    channel,\n    showVideos,\n  },\n}) => ({\n  show: Boolean(channel),\n  showVideos,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  changeView: () => dispatch(twitchActions.toggleShowVideosState()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RefreshDataButton);\n","import React from 'react';\nimport CloseStreamButtonContainer from './CloseStreamButtonContainer';\nimport ChangeViewButtonContainer from './ChangeViewButtonContainer';\nimport ToggleChatButtonContainer from './ToggleChatButtonContainer';\nimport AuthenticationButtonContainer from './AuthenticationButtonContainer';\n\nconst HeaderButtons = () => (\n  <>\n    <CloseStreamButtonContainer />\n    <ChangeViewButtonContainer />\n    <ToggleChatButtonContainer />\n    <AuthenticationButtonContainer />\n  </>\n);\n\nexport default HeaderButtons;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { CssBaseline } from '@material-ui/core';\nimport store from 'store';\nimport { theme } from 'theme';\nimport { Layout } from 'layout';\nimport { TwitchViewContainer, TwitchChannelsContainer } from 'twitch';\nimport { TitleContainer } from 'title';\nimport { HeaderButtons } from 'headerButtons';\n\nconst App = () => (\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Layout\n        header={(\n          <>\n            <TitleContainer showFullTitle />\n            <HeaderButtons />\n          </>\n        )}\n        sidebar={<TwitchChannelsContainer />}\n        sidebarHeader={<TitleContainer />}\n      >\n        <TwitchViewContainer />\n      </Layout>\n    </ThemeProvider>\n  </Provider>\n);\n\nexport default App;\n","const isLocalhost = Boolean(window.location.hostname === 'localhost'\n    || window.location.hostname === '[::1]'\n    || window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\nexport const register = (config) => {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\n    if (publicUrl.origin !== window.location.origin) {\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        checkValidServiceWorker(swUrl, config);\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n};\n\nconst registerValidSW = (swUrl, config) => {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.addEventListener('updatefound', () => {\n        const installingWorker = registration.installing;\n\n        if (installingWorker == null) {\n          return;\n        }\n\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller && config && config.onUpdate) {\n              config.onUpdate(registration);\n            } else if (config && config.onSuccess) {\n              config.onSuccess(registration);\n            }\n          }\n        };\n      });\n    });\n};\n\nconst checkValidServiceWorker = (swUrl, config) => {\n  fetch(swUrl)\n    .then((response) => {\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    });\n};\n\nexport const unregister = () => {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n};\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(App(), document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}