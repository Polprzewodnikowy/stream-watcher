(window["webpackJsonpstream-watcher"]=window["webpackJsonpstream-watcher"]||[]).push([[0],{74:function(e,t,n){e.exports=n(88)},88:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"sanitizeUrl",function(){return H}),n.d(r,"removeHashAndParametersFromUrl",function(){return L}),n.d(r,"saveInLocalStorage",function(){return P}),n.d(r,"loadFromLocalStorage",function(){return W}),n.d(r,"deleteInLocalStorage",function(){return k}),n.d(r,"isUndefined",function(){return D}),n.d(r,"isString",function(){return N}),n.d(r,"isNumber",function(){return U}),n.d(r,"isArray",function(){return x}),n.d(r,"getParamsFromHash",function(){return V}),n.d(r,"createQueryParameters",function(){return F}),n.d(r,"createUrl",function(){return B}),n.d(r,"mergeBy",function(){return M}),n.d(r,"sortAscBy",function(){return G}),n.d(r,"sortDescBy",function(){return J});var a={};n.r(a),n.d(a,"setSidebarState",function(){return yt}),n.d(a,"toggleSidebarState",function(){return It});var o={};n.r(o),n.d(o,"twitchLogin",function(){return yn}),n.d(o,"twitchLogout",function(){return In}),n.d(o,"saveToken",function(){return Lt}),n.d(o,"clearToken",function(){return Pt}),n.d(o,"fetchUser",function(){return Qt}),n.d(o,"fetchUsers",function(){return Kt}),n.d(o,"clearUser",function(){return Xt}),n.d(o,"fetchFollowed",function(){return rn}),n.d(o,"clearFollowed",function(){return nn}),n.d(o,"fetchStreams",function(){return un}),n.d(o,"clearStreams",function(){return cn}),n.d(o,"fetchGames",function(){return on}),n.d(o,"clearGames",function(){return an}),n.d(o,"fetchVideos",function(){return wn}),n.d(o,"clearVideos",function(){return bn}),n.d(o,"fetchAll",function(){return Sn}),n.d(o,"clearAll",function(){return jn}),n.d(o,"clearErrors",function(){return qt}),n.d(o,"setRefreshInterval",function(){return An}),n.d(o,"setChannel",function(){return Tn}),n.d(o,"clearChannel",function(){return On}),n.d(o,"setVideo",function(){return _n}),n.d(o,"clearVideo",function(){return Cn}),n.d(o,"setShowChatState",function(){return Hn}),n.d(o,"toggleShowChatState",function(){return Ln}),n.d(o,"setShowVideosState",function(){return Wn}),n.d(o,"toggleShowVideosState",function(){return kn});var c=n(9),i=n.n(c),u=n(0),l=n.n(u),s=n(7),d=n(134),f=n(135),h=n(17),p="".concat("TWITCH_FETCH_USER","_ERROR"),m="".concat("TWITCH_FETCH_USER","_SUCCESS"),E="".concat("TWITCH_FETCH_FOLLOWED_IDS","_ERROR"),g="".concat("TWITCH_FETCH_FOLLOWED_IDS","_SUCCESS"),v="".concat("TWITCH_FETCH_FOLLOWED_USERS","_ERROR"),b="".concat("TWITCH_FETCH_FOLLOWED_USERS","_SUCCESS"),w="".concat("TWITCH_FETCH_STREAMS","_ERROR"),T="".concat("TWITCH_FETCH_STREAMS","_SUCCESS"),O="".concat("TWITCH_FETCH_GAMES","_ERROR"),_="".concat("TWITCH_FETCH_GAMES","_SUCCESS"),C="".concat("TWITCH_FETCH_VIDEOS","_ERROR"),y="".concat("TWITCH_FETCH_VIDEOS","_SUCCESS"),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.newToken;switch(n){case"TWITCH_SAVE_TOKEN":return r;case"TWITCH_CLEAR_TOKEN":return null;default:return e}},S=n(18),j=n(25);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var H=function(e){return e.split("?")[0].split("#")[0].replace(/\/$/,"")},L=function(){return window.history.replaceState(null,null,H(window.location.href))},P=function(e,t){return window.localStorage.setItem(e,JSON.stringify(t))},W=function(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(n){return window.localStorage.removeItem(e),null}},k=function(e){return window.localStorage.removeItem(e)},D=function(e){return"undefined"===typeof e},N=function(e){return"string"===typeof e},U=function(e){return"number"===typeof e},x=function(e){return Array.isArray(e)},V=function(){var e=window.location.hash;return e.length?e.replace("#","").split("&").reduce(function(e,t){var n=t.split("="),r=Object(S.a)(n,2),a=r[0],o=r[1];return R({},e,Object(j.a)({},a,o))},{}):{}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter(function(t){return N(e[t])||U(e[t])||x(e[t])}).map(function(t){var n=e[t];return N(n)||U(n)?"".concat(t,"=").concat(n):x(n)?n.map(function(e){return"".concat(t,"=").concat(e)}).join("&"):null}).join("&")},B=function(e,t){return"".concat(e,"?").concat(F(t))},M=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length<=1)return e;var a=n.pop();return e.map(function(e){return R({},e,{},n.reduce(function(t,n){return R({},t,{},n.find(function(t){return t[a]===e[a]}))},{}))})},z=function(e){return D(e)?Number.MIN_SAFE_INTEGER:e},q=function(e,t,n){return e.sort(function(e,r){return z(n?e[t]:r[t])-z(n?r[t]:e[t])})},G=function(e,t){return q(e,t,!0)},J=function(e,t){return q(e,t,!1)},K={en:{app:{title:"Stream Watcher"},actions:{tooltips:{login:"Login",logout:"Logout",showChat:"Show chat",hideChat:"Hide chat",closeStream:"Close stream",closeVideo:"Close video",refreshData:"Refresh data",showVideos:"Show videos"}},errors:{closeModal:"Close",fetchErrorType:"Network error",fetchErrorMessage:function(e,t){return'Error "'.concat(e,'" occured while loading "').concat(t,'". Please check your internet connection. Try refreshing the page.')},unknownErrorType:"Unknown Error",unknownErrorMessage:"Try refreshing the page"},twitch:{labels:{views:"views"},error:"Twitch error"}}};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o={type:e};return n.forEach(function(e,t){o[n[t]]=r[t]}),o}},Y=function(e){var t=e.start,n=e.success,r=e.error,a=e.clear;return[function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1?arguments[1]:void 0,c=o.type;switch(c){case t:return!0;case n:case r:case a:return!1;default:return e}},function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1?arguments[1]:void 0,c=o.type;switch(c){case n:return!0;case t:case r:case a:return!1;default:return e}}]},Z=n(59),ee=n(108),te=n(110),ne=n(111),re=Object(Z.a)(function(e){return{linear:{width:"100%"},overlay:{width:"100%",height:"100%",top:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.grey[900]}}}),ae=function(e){var t=e.isLoading,n=e.position,r=e.variant,a=e.zIndex,o=re(),c=Object(u.useCallback)(function(){return l.a.createElement("div",{className:o[r],style:{position:n,zIndex:a,top:"sticky"===n?0:null}},{inline:l.a.createElement(ee.a,{color:"inherit"}),linear:l.a.createElement(te.a,{color:"secondary"}),overlay:l.a.createElement(ee.a,{color:"inherit"})}[r])},[o,n,r,a]);return l.a.createElement(ne.a,{mountOnEnter:!0,unmountOnExit:!0,in:t},c())};ae.defaultProps={isLoading:!1,position:null,variant:"inline",zIndex:null};var oe=ae,ce=Y({start:"TWITCH_FETCH_USER",success:m,error:p,clear:"TWITCH_CLEAR_USER"}),ie=Object(S.a)(ce,2),ue=ie[0],le=ie[1],se=n(20),de=n(13),fe=Y({start:"TWITCH_FETCH_FOLLOWED_IDS",success:g,error:E,clear:"TWITCH_CLEAR_FOLLOWED_IDS"}),he=Object(S.a)(fe,2),pe=he[0],me=he[1],Ee=Object(h.combineReducers)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case g:return Object(de.uniq)([].concat(Object(se.a)(e),Object(se.a)(r.data)));case"TWITCH_CLEAR_FOLLOWED_IDS":return[];default:return e}},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case g:return r.total||e;case"TWITCH_CLEAR_FOLLOWED_IDS":return null;default:return e}},cursor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case g:return r.pagination&&r.pagination.cursor||null;case"TWITCH_CLEAR_FOLLOWED_IDS":return null;default:return e}}}),ge=Y({start:"TWITCH_FETCH_FOLLOWED_USERS",success:b,error:v,clear:"TWITCH_CLEAR_FOLLOWED_USERS"}),ve=Object(S.a)(ge,2),be=ve[0],we=ve[1],Te=Y({start:"TWITCH_FETCH_STREAMS",success:T,error:w,clear:"TWITCH_CLEAR_STREAMS"}),Oe=Object(S.a)(Te,2),_e=Oe[0],Ce=Oe[1],ye=Y({start:"TWITCH_FETCH_GAMES",success:_,error:O,clear:"TWITCH_CLEAR_GAMES"}),Ie=Object(S.a)(ye,2),Se=Ie[0],je=Ie[1],Ae=Y({start:"TWITCH_FETCH_VIDEOS",success:y,error:C,clear:"TWITCH_CLEAR_VIDEOS"}),Re=Object(S.a)(Ae,2),He=Re[0],Le=Re[1],Pe=Object(h.combineReducers)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case y:return Object(de.uniqBy)([].concat(Object(se.a)(e),Object(se.a)(r.data)),"videoId");case"TWITCH_CLEAR_VIDEOS":return[];default:return e}},cursor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case y:return r.pagination&&r.pagination.cursor||e;case"TWITCH_CLEAR_VIDEOS":return null;default:return e}},fetchedAll:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case y:return!(r.pagination&&r.pagination.cursor);case"TWITCH_CLEAR_VIDEOS":return!1;default:return e}}}),We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.selectedChannel;switch(n){case"TWITCH_SET_CHANNEL":return r;case"TWITCH_CLEAR_CHANNEL":return null;default:return e}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.selectedVideo;switch(n){case"TWITCH_SET_VIDEO":return r;case"TWITCH_CLEAR_VIDEO":return null;default:return e}},De=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.show;switch(n){case"TWITCH_SET_SHOW_CHAT_STATE":return r;default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.show;switch(n){case"TWITCH_SET_SHOW_VIDEOS_STATE":return r;default:return e}},Ue=Object({NODE_ENV:"production",PUBLIC_URL:"/stream-watcher",REACT_APP_TWITCH_CLIENT_ID:"ghxaj0ceosszltn5qy584h99icj16d",REACT_APP_PUBLIC_DOMAIN:"polprzewodnikowy.github.io"}).REACT_APP_TWITCH_AUTH_PROTOCOL||"https",xe=Object({NODE_ENV:"production",PUBLIC_URL:"/stream-watcher",REACT_APP_TWITCH_CLIENT_ID:"ghxaj0ceosszltn5qy584h99icj16d",REACT_APP_PUBLIC_DOMAIN:"polprzewodnikowy.github.io"}).REACT_APP_TWITCH_AUTH_HOST||"id.twitch.tv",Ve=Object({NODE_ENV:"production",PUBLIC_URL:"/stream-watcher",REACT_APP_TWITCH_CLIENT_ID:"ghxaj0ceosszltn5qy584h99icj16d",REACT_APP_PUBLIC_DOMAIN:"polprzewodnikowy.github.io"}).REACT_APP_TWITCH_AUTH_PORT||"443",Fe=Object({NODE_ENV:"production",PUBLIC_URL:"/stream-watcher",REACT_APP_TWITCH_CLIENT_ID:"ghxaj0ceosszltn5qy584h99icj16d",REACT_APP_PUBLIC_DOMAIN:"polprzewodnikowy.github.io"}).REACT_APP_TWITCH_HELIX_PROTOCOL||"https",Be=Object({NODE_ENV:"production",PUBLIC_URL:"/stream-watcher",REACT_APP_TWITCH_CLIENT_ID:"ghxaj0ceosszltn5qy584h99icj16d",REACT_APP_PUBLIC_DOMAIN:"polprzewodnikowy.github.io"}).REACT_APP_TWITCH_HELIX_HOST||"api.twitch.tv",Me=Object({NODE_ENV:"production",PUBLIC_URL:"/stream-watcher",REACT_APP_TWITCH_CLIENT_ID:"ghxaj0ceosszltn5qy584h99icj16d",REACT_APP_PUBLIC_DOMAIN:"polprzewodnikowy.github.io"}).REACT_APP_TWITCH_HELIX_PORT||"443",ze="".concat(Ue,"://").concat(xe,":").concat(Ve,"/oauth2/authorize"),qe="".concat(Fe,"://").concat(Be,":").concat(Me,"/helix"),Ge="".concat(qe,"/users"),Je="".concat(Ge,"/follows"),Ke="".concat(qe,"/streams"),Xe="".concat(qe,"/games"),Qe="".concat(qe,"/videos"),$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.interval;switch(n){case"TWITCH_SET_REFRESH_INTERVAL":return r;default:return e}};function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var et,tt,nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.error;switch(n){case p:return Ze({},e,{user:r});case E:return Ze({},e,{followedIds:r});case v:return Ze({},e,{followed:r});case w:return Ze({},e,{streams:r});case O:return Ze({},e,{games:r});case"TWITCH_CLEAR_ERRORS":return{};default:return e}},rt=Object(h.combineReducers)({token:I,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case m:return r.data[0];case"TWITCH_CLEAR_USER":return{};default:return e}},isFetchingUser:ue,fetchedUserSuccessfully:le,followedIds:Ee,isFetchingFollowedIds:pe,fetchedFollowedIdsSuccessfully:me,followed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case b:return Object(de.uniqBy)([].concat(Object(se.a)(e),Object(se.a)(r.data)),"userId");case"TWITCH_CLEAR_FOLLOWED_USERS":return[];default:return e}},isFetchingFollowed:be,fetchedFollowedSuccessfully:we,streams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case T:return r.data;case"TWITCH_CLEAR_STREAMS":return[];default:return e}},isFetchingStreams:_e,fetchedStreamsSuccessfully:Ce,games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case _:return Object(de.uniqBy)([].concat(Object(se.a)(e),Object(se.a)(r.data)),"gameId");case"TWITCH_CLEAR_GAMES":return[];default:return e}},isFetchingGames:Se,fetchedGamesSuccessfully:je,videos:Pe,isFetchingVideos:He,fetchedVideosSuccessfully:Le,channel:We,video:ke,showChat:De,showVideos:Ne,refreshInterval:$e,errors:nt}),at=Object(h.combineReducers)({isOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.open;switch(n){case"SIDEBAR_SET_STATE":return r;default:return e}}}),ot=Object(h.combineReducers)({twitch:rt,sidebar:at}),ct=["twitch.token","twitch.channel","twitch.video","twitch.showChat","twitch.refreshInterval"],it=n(60),ut=n(61),lt=function(e,t){var n=[Object(h.applyMiddleware)(ut.a)],r=it.composeWithDevTools.apply(void 0,n);return Object(h.createStore)(e,t,r)}(ot,r.loadFromLocalStorage("state")||{});tt=ct,(et=lt).subscribe(Object(de.throttle)(function(){return r.saveInLocalStorage("state",Object(de.pick)(et.getState(),tt))},100));var st=lt,dt=n(65),ft=Object(dt.a)({palette:{type:"dark",primary:{main:"#212121",light:"#484848",dark:"#000000"},secondary:{main:"#4a148c",light:"#7c43bd",dark:"#12005e"},background:{default:"#000000",paper:"#080808",dark:"#161616"},text:{primary:"#ffffff",secondary:"#aaaaaa"}},zIndex:{progress:2e3}}),ht=n(90),pt=n(112),mt=n(113),Et=n(114),gt=n(116),vt=Object(Z.a)({appBar:{maxWidth:"100vw"}}),bt=function(e){var t=e.children,n=e.toggleSidebar,r=vt();return l.a.createElement(pt.a,{position:"sticky",className:r.appBar},l.a.createElement(mt.a,{variant:"dense"},l.a.createElement(Et.a,{color:"inherit",onClick:n},l.a.createElement(gt.a,null)),t))};bt.defaultProps={children:null,toggleSidebar:function(){}};var wt=bt,Tt=n(136),Ot=function(e){var t=e.children,n=e.isOpen,r=e.setOpen;return l.a.createElement(Tt.a,{disableBackdropTransition:!0,keepMounted:!0,open:n,onOpen:function(){return r(!0)},onClose:function(){return r(!1)},ModalProps:{keepMounted:!0}},t)};Ot.defaultProps={children:null};var _t=Ot,Ct=$("SIDEBAR_SET_STATE","open"),yt=function(e){return function(t){return t(Ct(e))}},It=function(){return function(e,t){var n=t().sidebar.isOpen;return e(Ct(!n))}},St=Object(s.b)(function(e){return{isOpen:e.sidebar.isOpen}},function(e){return{setOpen:function(t){return e(yt(t))}}})(_t),jt=Object(s.b)(null,function(e){return{toggleSidebar:function(){return e(a.toggleSidebarState())}}})(wt),At=Object(ht.a)({app:{width:"100%",height:"100%",display:"grid",gridTemplateRows:"auto 1fr"}}),Rt=function(e){var t=e.children,n=e.header,r=e.sidebar,a=e.sidebarHeader,o=At();return l.a.createElement("div",{className:o.app},l.a.createElement(jt,null,n),t,l.a.createElement(St,null,l.a.createElement(jt,null,a),r))};Rt.defaultProps={children:null,header:null,sidebar:null,sidebarHeader:null};var Ht=Rt,Lt=$("TWITCH_SAVE_TOKEN","newToken"),Pt=$("TWITCH_CLEAR_TOKEN"),Wt=n(52),kt=n(45),Dt=n.n(kt),Nt=(n(86),function(e){var t=e.error,n=e.status,r=e.message;return{errorType:"".concat(K.en.twitch.error,": ").concat(t),status:Number(n),message:r}}),Ut=function(e){return e.map(function(e){return function(e){var t=e.id,n=e.login,r=e.display_name,a=e.profile_image_url;return{userId:Number(t),login:n,name:r,avatarUrl:a}}(e)})},xt=function(e){return e.map(function(e){return Number(e.to_id)})},Vt=function(e){return e.map(function(e){return function(e){var t=e.game_id,n=e.title,r=e.type,a=e.user_id,o=e.viewer_count;return{userId:Number(a),title:n,type:r,gameId:Number(t),viewers:Number(o)}}(e)})},Ft=function(e){return e.map(function(e){return function(e){var t=e.id,n=e.name;return{gameId:Number(t),gameTitle:n}}(e)})},Bt=function(e){return e.map(function(e){return function(e){var t=e.created_at,n=e.description,r=e.duration,a=e.id,o=e.published_at,c=e.thumbnail_url,i=e.title,u=e.user_id,l=e.view_count;return{videoId:Number(a),userId:Number(u),title:i,description:n,duration:r,createdAt:t,publishedAt:o,viewCount:Number(l),thumbnailUrl:c}}(e)})};function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var qt=$("TWITCH_CLEAR_ERRORS"),Gt=function(e){return function(t,n){var r=n().twitch.token,a=e.headers,o=e.transform,c=Object(Wt.a)(e,["headers","transform"]),i={"Client-ID":"ghxaj0ceosszltn5qy584h99icj16d"};r&&(i.Authorization="Bearer ".concat(r)),Object.assign(i,a);return t(function(e){return function(t){var n=e.baseAction,r=e.url,a=e.headers,o=e.method,c=void 0===o?"GET":o,i=e.mode,u=void 0===i?"cors":i,l=e.contentType,s=void 0===l?"application/json":l,d=e.body,f=e.query,h=e.transform,p=e.combine,m=e.transformError,E=function(e){return n&&t($("".concat(n,"_SUCCESS"),"payload")(e))},g=function(e){return n&&t($("".concat(n,"_ERROR"),"error")(e))};(function(){n&&t($(n)())})();var v={headers:Q({},a,{"Content-Type":s}),method:c,mode:u,body:d},b=x(f),w=f&&(b?f.map(function(e){return B(r,e)}):B(r,f))||r,T=h||function(e){return e},O=b&&p||function(e){return e},_=m||function(e){return e},C=function(e){if(!e.ok)throw e;return e.json()},y=function(e){return fetch(e,v).then(C).then(T)};return(b?Promise.all(w.map(function(e){return y(e)})):y(w)).then(O).then(function(e){return E(e),e}).catch(function(e){e instanceof Error?g({errorType:K.en.errors.fetchErrorType,message:K.en.errors.fetchErrorMessage(e.message,r)}):e.json().then(_).then(g)})}}(zt({},c,{headers:i,transform:function(e){var t=e.data,n=Object(Wt.a)(e,["data"]);return zt({data:o(t)},n)},combine:function(e){return e.reduce(function(e,t){return{data:[].concat(Object(se.a)(e.data),Object(se.a)(t.data))}},{data:[]})},transformError:Nt})))}};function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Kt=function(e){return function(t){return t(Gt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{url:Ge,transform:Ut})))}},Xt=$("TWITCH_CLEAR_USER"),Qt=function(){return function(e,t){return t().twitch.token?e(Kt({baseAction:"TWITCH_FETCH_USER"})):null}},$t=n(28),Yt=n.n($t),Zt=n(35),en=$("TWITCH_CLEAR_FOLLOWED_IDS"),tn=$("TWITCH_CLEAR_FOLLOWED_USERS"),nn=function(){return function(e){e(en()),e(tn())}},rn=function(){return function(){var e=Object(Zt.a)(Yt.a.mark(function e(t){return Yt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(function(e,t){var n=t().twitch,r=n.user.userId,a=n.followedIds.cursor;return r?e(Gt({baseAction:"TWITCH_FETCH_FOLLOWED_IDS",url:Je,query:{from_id:r,first:100,after:a},transform:xt})):null});case 2:return e.next=4,t(function(e,t){var n=t().twitch,r=n.followedIds.list,a=n.followed,o=r.filter(function(e){return!a.find(function(t){return t.userId===e})});return 0===o.length?null:e(Kt({baseAction:"TWITCH_FETCH_FOLLOWED_USERS",query:Object(de.chunk)(o,100).map(function(e){return{id:e}})}))});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},an=$("TWITCH_CLEAR_GAMES"),on=function(){return function(e,t){var n=t().twitch,r=function(e,t){return e.filter(function(e){var n=e.gameId;return!t.find(function(e){return n===e.gameId})}).filter(function(e){return 0!==e.gameId}).map(function(e){return e.gameId})}(n.streams,n.games);return 0===r.length?null:e(Gt({baseAction:"TWITCH_FETCH_GAMES",url:Xe,query:Object(de.chunk)(r,100).map(function(e){return{id:e}}),transform:Ft}))}},cn=$("TWITCH_CLEAR_STREAMS"),un=function(){return function(e,t){var n=t().twitch.followedIds.list;return 0===n.length?null:e(Gt({baseAction:"TWITCH_FETCH_STREAMS",url:Ke,query:Object(de.chunk)(n,100).map(function(e){return{user_id:e}}),transform:Vt})).then(function(){return e(on())})}},ln=n(31),sn=function(e){return e.followed},dn=function(e){return e.streams},fn=Object(ln.a)(function(e){return e.channel},sn,function(e,t){return t.find(function(t){return t.login===e})||{}}),hn=Object(ln.a)(fn,dn,function(e,t){return t.find(function(t){return t.userId===e.userId})||{}}),pn=Object(ln.a)(fn,function(e){return e.avatarUrl}),mn=Object(ln.a)(fn,function(e){return e.name}),En=Object(ln.a)(hn,function(e){return e.title}),gn=Object(ln.a)(dn,function(e){return e.games},function(e,t){return r.mergeBy(e,t,"gameId")}),vn=Object(ln.a)(sn,gn,function(e,t){return r.sortDescBy(r.mergeBy(e,t,"userId"),"viewers")}),bn=$("TWITCH_CLEAR_VIDEOS"),wn=function(){return function(e,t){var n=t().twitch,r=fn(n).userId;if(!r)return null;var a=n.videos.cursor;return e(Gt({baseAction:"TWITCH_FETCH_VIDEOS",url:Qe,query:{user_id:r,first:50,after:a},transform:Bt}))}},Tn=$("TWITCH_SET_CHANNEL","selectedChannel"),On=$("TWITCH_CLEAR_CHANNEL"),_n=function(e){return $("TWITCH_SET_VIDEO","selectedVideo")("v".concat(e))},Cn=$("TWITCH_CLEAR_VIDEO"),yn=function(){return function(){window.location.replace("".concat(ze,"?").concat(r.createQueryParameters({client_id:"ghxaj0ceosszltn5qy584h99icj16d",redirect_uri:"".concat(new URL(window.location.href).origin).concat("/stream-watcher"),response_type:"token"})))}},In=function(){return function(e){e(Pt()),e(Xt()),e(nn()),e(cn()),e(an()),e(bn()),e(On()),e(Cn())}},Sn=function(){return function(){var e=Object(Zt.a)(Yt.a.mark(function e(t){return Yt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Qt());case 2:return e.next=4,t(rn());case 4:return e.next=6,t(un());case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},jn=function(){return function(e){e(Xt()),e(nn()),e(cn()),e(an()),e(bn())}},An=$("TWITCH_SET_REFRESH_INTERVAL","interval"),Rn=$("TWITCH_SET_SHOW_CHAT_STATE","show"),Hn=function(e){return function(t){return t(Rn(e))}},Ln=function(){return function(e,t){var n=t().twitch.showChat;return e(Rn(!n))}},Pn=$("TWITCH_SET_SHOW_VIDEOS_STATE","show"),Wn=function(e){return function(t){return t(Pn(e))}},kn=function(){return function(e,t){var n=t().twitch.showVideos;return e(Pn(!n))}},Dn=n(2),Nn=n.n(Dn),Un={avatarUrl:Nn.a.string,gameTitle:Nn.a.string,login:Nn.a.string,name:Nn.a.string,title:Nn.a.string,type:Nn.a.string,userId:Nn.a.number,viewers:Nn.a.number},xn=Nn.a.shape(Un),Vn=(Nn.a.arrayOf(xn),{videoId:Nn.a.number,userId:Nn.a.number,title:Nn.a.string,description:Nn.a.string,duration:Nn.a.string,createdAt:Nn.a.string,publishedAt:Nn.a.string,viewCount:Nn.a.number,thumbnailUrl:Nn.a.string}),Fn=Nn.a.shape(Vn),Bn=(Nn.a.arrayOf(Fn),n(137)),Mn=Object(ht.a)({player:{display:"flex",width:"100%",height:"100%","& iframe":{width:"100%",height:"100%"}}}),zn=function(e){var t=e.channel,n=e.targetID,r=e.video,a=Object(u.useState)(null),o=Object(S.a)(a,2),c=o[0],i=o[1],s=Mn(),d=Object(u.useCallback)(Object(Zt.a)(Yt.a.mark(function e(){return Yt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){if(Boolean(document.getElementById("twitch-player-script")))e();else{var t=document.createElement("script");t.setAttribute("src","https://player.twitch.tv/js/embed/v1.js"),t.setAttribute("id","twitch-player-script"),t.addEventListener("load",e),document.body.appendChild(t)}});case 2:c||i(new window.Twitch.Player(n,{video:r,channel:t}));case 3:case"end":return e.stop()}},e)})),[n,c,r,t]);return Object(u.useEffect)(function(){d()},[d]),Object(u.useEffect)(function(){c&&(r?c.setVideo(r):t?c.setChannel(t):c.pause())},[c,r,t]),l.a.createElement("div",{id:n,className:s.player})};zn.defaultProps={channel:null,targetID:"twitch-player",video:null};var qn=zn,Gn=Object(s.b)(function(e){var t=e.twitch;return{channel:t.channel,video:t.video}})(qn),Jn=Object(ht.a)({chat:{display:"flex",width:"100%",height:"100%"}}),Kn=function(e){var t=e.channel,n=e.title,r=Jn(),a=function(e){return"https://www.twitch.tv/embed/%{channel}/chat?parent=%{parent}&darkpopout".replace("%{channel}",e).replace("%{parent}","polprzewodnikowy.github.io")}(t);return l.a.createElement("iframe",{className:r.chat,frameBorder:"0",src:a,title:n})};Kn.defaultProps={channel:null,title:"twitch-chat"};var Xn=Kn,Qn=Object(s.b)(function(e){return{channel:e.twitch.channel}})(Xn),$n=Object(ht.a)(function(e){return{container:{height:"100%",display:"flex",flexFlow:"row","@media screen and (orientation:portrait)":{flexFlow:"column"}},playerContainer:{flexGrow:1,"@media screen and (orientation:portrait)":{flexGrow:0,position:"relative",paddingTop:"calc(100% / (16/9))","& div":{position:"absolute",top:0,left:0}}},chatContainer:{minWidth:"335px",flexGrow:0,"@media screen and (orientation:portrait)":{flexGrow:1}}}}),Yn=function(e){var t=e.isVisible,n=e.showChat,r=$n();return t&&l.a.createElement("div",{className:r.container},l.a.createElement("div",{className:r.playerContainer},l.a.createElement(Gn,null)),n&&l.a.createElement("div",{className:r.chatContainer},l.a.createElement(Qn,null)))};Yn.defaultProps={isVisible:!1,showChat:!0};var Zn=Yn,er=Object(s.b)(function(e){var t=e.twitch,n=t.channel,r=t.showChat;return{isVisible:Boolean(n),showChat:r}})(Zn),tr=n(63),nr=n.n(tr),rr=n(68),ar=n(89),or=n(118),cr=Object(Z.a)(function(e){return{container:{padding:"1px 5px",position:"absolute",opacity:.8,borderRadius:e.shape.borderRadius,backgroundColor:e.palette.common.black},typography:{display:"flex",alignItems:"center"}}}),ir=function(e){var t=e.bottom,n=e.children,r=e.left,a=e.offsetHorizontal,o=e.offsetVertical,c=e.right,i=e.top,u=cr();return l.a.createElement("div",{className:u.container,style:{bottom:t?o:null,left:r?a:null,right:c?a:null,top:i?o:null}},l.a.createElement(ar.a,{className:u.typography,component:"div",variant:"body2",color:"textPrimary"},n))};ir.defaultProps={bottom:!1,children:null,left:!1,offsetHorizontal:"5px",offsetVertical:"5px",right:!1,top:!1};var ur=ir,lr=Object(Z.a)(function(e){return{thumbnail:{width:"100%",height:0,position:"relative",paddingBottom:"calc(100% / (16/9))",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundColor:e.palette.grey[700]},labelIcon:{marginRight:"5px"}}}),sr=function(e){var t,n,r,a=e.duration,o=e.publishedAt,c=e.thumbnailHeight,i=e.thumbnailUrl,u=e.thumbnailWidth,s=e.viewCount,d=lr();return l.a.createElement("div",{className:d.thumbnail,style:{backgroundImage:"url(".concat((t=i,n=u,r=c,t.replace("%{width}",n).replace("%{height}",r)),")")}},l.a.createElement(ur,{top:!0,left:!0},l.a.createElement(or.a,{className:d.labelIcon,fontSize:"inherit"}),function(e){return Dt.a.duration("PT".concat(e).toUpperCase()).format("HH:mm:ss")}(a)),l.a.createElement(ur,{bottom:!0,left:!0},function(e){return"".concat(e," ").concat(K.en.twitch.labels.views)}(s)),l.a.createElement(ur,{bottom:!0,right:!0},function(e){return Dt()(e).fromNow()}(o)))};sr.defaultProps={duration:"",publishedAt:"",thumbnailHeight:360,thumbnailUrl:"",thumbnailWidth:640,viewCount:0};var dr=sr,fr=Object(ht.a)(function(e){return{tile:{display:"grid",overflow:"hidden",borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.dark,boxShadow:e.shadows[8],gridTemplateColumns:"1fr"},title:{width:"100%",padding:"".concat(e.spacing(.5),"px ").concat(e.spacing(1.25),"px"),textAlign:"left"}}}),hr=function(e){var t=e.className,n=e.onVideoClick,r=e.video,a=fr(),o=r.duration,c=r.publishedAt,i=r.thumbnailUrl,u=r.title,s=r.videoId,d=r.viewCount;return l.a.createElement(rr.a,{className:nr()(t,a.tile),onClick:function(){return n(s)}},l.a.createElement(dr,{duration:o,publishedAt:c,thumbnailUrl:i,viewCount:d}),l.a.createElement(ar.a,{className:a.title,variant:"body1",color:"textPrimary",noWrap:!0},u))};hr.defaultProps={className:null,onVideoClick:function(){},video:{}};var pr=hr,mr=Object(s.b)(null,function(e){return{onVideoClick:function(t){e(Wn(!1)),e(_n(t))}}})(pr),Er=Object(ht.a)(function(e){return{container:{height:"100%",position:"relative",overflowY:"auto",backgroundColor:e.palette.background.paper},videos:{padding:e.spacing(2),paddingTop:e.spacing(4),display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(380px, 1fr))"},tile:{margin:e.spacing(2),marginTop:0}}}),gr=function(e){var t=e.channel,n=e.clearData,r=e.fetchedAll,a=e.fetchData,o=e.followed,c=e.isLoading,i=e.videos,s=Er();Object(u.useEffect)(function(){return a(),function(){n()}},[t,o,a,n]);var d=Object(u.useCallback)(function(e){var t=e.target;t.scrollHeight-t.scrollTop<=t.clientHeight+100&&!c&&!r&&a()},[c,r,a]),f=c&&0===i.length,h=c&&!f;return l.a.createElement("div",{className:s.container,onScroll:d},l.a.createElement(oe,{variant:"linear",position:"sticky",isLoading:h,zIndex:1}),l.a.createElement(oe,{variant:"overlay",position:"absolute",isLoading:f,zIndex:1}),l.a.createElement("div",{className:s.videos},i.map(function(e){return l.a.createElement(mr,{key:e.videoId,className:s.tile,video:e})})))},vr=Object(s.b)(function(e){var t=e.twitch,n=t.channel,r=t.followed,a=t.videos;return{channel:n,followed:r,videos:a.list,fetchedAll:a.fetchedAll,isLoading:t.isFetchingVideos}},function(e){return{clearData:function(){return e(bn())},fetchData:function(){return e(wn())}}})(gr),br=function(e){e.channel;var t=e.clearUrl,n=e.fetchInitialData,r=e.getToken,a=e.refreshData,o=e.refreshInterval,c=(e.refreshVideos,e.saveToken);return Object(u.useEffect)(function(){var e=r();e&&(c(e),t())},[r,c,t]),Object(u.useEffect)(function(){n()},[n]),Object(u.useEffect)(function(){var e=setInterval(a,o);return function(){clearInterval(e)}},[a,o]),null};br.propTypes={clearUrl:Nn.a.func.isRequired,fetchInitialData:Nn.a.func.isRequired,getToken:Nn.a.func.isRequired,refreshData:Nn.a.func.isRequired,refreshInterval:Nn.a.number.isRequired,refreshVideos:Nn.a.func.isRequired,saveToken:Nn.a.func.isRequired};var wr=br,Tr=Object(s.b)(function(e){var t=e.twitch;return{channel:t.channel,refreshInterval:t.refreshInterval}},function(e){return{clearUrl:function(){return r.removeHashAndParametersFromUrl()},fetchInitialData:function(){return e(Sn())},getToken:function(){return r.getParamsFromHash().access_token},refreshData:function(){return e(un())},refreshVideos:function(){e(bn()),e(wn())},saveToken:function(t){return e(Lt(t))}}})(wr),Or=n(138),_r=n(120),Cr=n(121),yr=n(122),Ir=n(123),Sr=K.en.errors,jr=Sr.unknownErrorType,Ar=Sr.unknownErrorMessage,Rr=Object(Z.a)(function(e){return{error:{color:e.palette.error.contrastText,backgroundColor:e.palette.error.dark},message:{display:"flex",alignItems:"center"},icon:{fontSize:30,marginRight:e.spacing(1.5)}}}),Hr=function(e){var t=e.error,n=e.isModalVisible,r=e.onClose,a=e.onRefresh,o=Rr();return l.a.createElement(Or.a,{anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:function(e){return l.a.createElement(Bn.a,Object.assign({},e,{direction:"down"}))},open:n,onClose:r},l.a.createElement(_r.a,{className:o.error,message:l.a.createElement("div",{className:o.message},l.a.createElement(Cr.a,{className:o.icon}),l.a.createElement("div",null,l.a.createElement(ar.a,{variant:"body1"},t&&t.errorType||jr),l.a.createElement(ar.a,{variant:"body2"},t&&t.message||Ar))),action:[l.a.createElement(Et.a,{key:"refresh",color:"inherit",onClick:a},l.a.createElement(yr.a,null)),l.a.createElement(Et.a,{key:"close",color:"inherit",onClick:r},l.a.createElement(Ir.a,null))]}))};Hr.defaultProps={error:null};var Lr=Hr,Pr=Object(s.b)(function(e){var t=e.twitch.errors,n=t.user,r=t.followedIds,a=t.followed,o=t.streams,c=t.games,i=n||r||a||o||c;return{error:i,isModalVisible:Boolean(i)}},function(e){return{onClose:function(){return e(qt())},onRefresh:function(){e(qt()),e(jn()),e(Sn())}}})(Lr),Wr=Object(ht.a)({container:{width:"100%",height:"100%",position:"relative"},wrapper:{width:"100%",height:"100%",position:"absolute"}}),kr=function(e){var t=e.showVideos,n=Wr();return l.a.createElement("div",{className:n.container},l.a.createElement("div",{className:n.wrapper},l.a.createElement(er,null)),l.a.createElement(Bn.a,{mountOnEnter:!0,unmountOnExit:!0,direction:"down",in:t},l.a.createElement("div",{className:n.wrapper},l.a.createElement(vr,null))),l.a.createElement(Tr,null),l.a.createElement(Pr,null))};kr.defaultProps={showVideos:!1};var Dr=kr,Nr=Object(s.b)(function(e){return{showVideos:e.twitch.showVideos}})(Dr),Ur=n(127),xr=n(124),Vr=n(125),Fr=n(126),Br=Object(ht.a)({dimAvatar:{filter:"grayscale(100%) brightness(50%)"},container:{width:"100%",display:"flex",flexFlow:"column",overflow:"hidden"},subtitleContainer:{display:"grid",gridTemplateColumns:"1fr 10px auto"}}),Mr=function(e){var t=e.changeChannel,n=e.channel,r=e.isSelected,a=Br(),o=n.avatarUrl,c=n.gameTitle,i=n.login,u=n.name,s=n.title,d=n.type,f=n.viewers,h=function(e){return"live"===e}(d);return l.a.createElement(xr.a,{button:!0,selected:r,onClick:function(){return t(i)}},l.a.createElement(Vr.a,null,l.a.createElement(Fr.a,{className:h?"":a.dimAvatar,src:o})),l.a.createElement("div",{className:a.container,title:s},l.a.createElement(ar.a,{variant:"body2",noWrap:!0},u),l.a.createElement("div",{className:a.subtitleContainer},l.a.createElement(ar.a,{variant:"body2",color:"textSecondary",noWrap:!0},c),l.a.createElement("div",null),l.a.createElement(ar.a,{variant:"body2",color:"textSecondary",noWrap:!0},h&&"\ud83d\udd34 ".concat(f)))))},zr=Object(s.b)(null,function(e){return{changeChannel:function(t){e(yt(!1)),e(Cn()),e(Tn(t))}}})(Mr),qr=Object(ht.a)({list:{minWidth:"400px",maxWidth:"400px"}}),Gr=function(e){var t=e.channels,n=e.selectedChannel,r=qr();return l.a.createElement(Ur.a,{className:r.list,dense:!0},t.map(function(e){return l.a.createElement(zr,{key:e.userId,isSelected:e.userId===n.userId,channel:e})}))};Gr.defaultProps={selectedChannel:{}};var Jr=Gr,Kr=Object(s.b)(function(e){var t=e.twitch;return{channels:vn(t),selectedChannel:fn(t)}})(Jr),Xr=Object(ht.a)({avatar:{marginLeft:"8px"},text:{flexGrow:1,marginLeft:"16px"}}),Qr=function(e){var t=e.avatarUrl,n=e.text,r=e.secondaryText,a=e.showFullTitle,o=Xr();return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement(Fr.a,{className:o.avatar,src:t}),l.a.createElement(ar.a,{className:o.text,noWrap:!0,variant:"h6"},n||K.en.app.title,a&&r&&" - ".concat(r)))};Qr.defaultProps={avatarUrl:null,text:null,secondaryText:"",showFullTitle:!1};var $r=l.a.memo(Qr),Yr=Object(s.b)(function(e){var t=e.twitch;return{avatarUrl:pn(t),text:mn(t),secondaryText:En(t)}})($r),Zr=n(139),ea=Object(ht.a)({buttonBase:{padding:"4px"}}),ta=function(e){var t=e.children,n=e.icon,r=e.onClick,a=e.tooltip,o=ea();return l.a.createElement(Zr.a,{title:a},n?l.a.createElement(Et.a,{onClick:r},t):l.a.createElement(rr.a,{className:o.buttonBase,onClick:r},t))};ta.defaultProps={icon:!1,tooltip:""};var na=l.a.memo(ta),ra=n(128),aa=K.en.actions.tooltips,oa=Object(ht.a)(function(e){return{container:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}}}),ca=function(e){var t=e.avatarUrl,n=e.isLoggedIn,r=e.login,a=e.logout,o=oa();return l.a.createElement("div",{className:o.container},n?l.a.createElement(na,{tooltip:aa.logout,onClick:a},l.a.createElement(Fr.a,{src:t})):l.a.createElement(na,{icon:!0,tooltip:aa.login,onClick:r},l.a.createElement(ra.a,null)))};ca.defaultProps={avatarUrl:null};var ia=Object(s.b)(function(e){var t=e.twitch.user,n=t.userId;return{avatarUrl:t.avatarUrl,isLoggedIn:Boolean(n)}},function(e){return{login:function(){return e(o.twitchLogin())},logout:function(){return e(o.twitchLogout())}}})(ca),ua=n(129),la=K.en.actions.tooltips,sa=Object(s.b)(function(e){var t=e.twitch;return{channel:t.channel,video:t.video}},function(e){return{closeStream:function(){e(o.clearChannel()),e(o.setShowVideosState(!1))},closeVideo:function(){e(o.clearVideo()),e(o.setShowVideosState(!1))}}},function(e,t){var n=e.channel,r=e.video,a=t.closeStream,o=t.closeVideo;return{closeStreamOrVideo:function(){r?o():a()},icon:(r?"back":n&&"close")||null,tooltip:r?la.closeVideo:la.closeStream,show:Boolean(r||n)}})(function(e){var t=e.closeStreamOrVideo,n=e.show,r=e.tooltip,a=e.icon;return n&&l.a.createElement(na,{icon:!0,tooltip:r,onClick:t},{close:l.a.createElement(Ir.a,null),back:l.a.createElement(ua.a,null)}[a])}),da=n(130),fa=n(131),ha=K.en.actions.tooltips,pa=Object(s.b)(function(e){var t=e.twitch,n=t.channel,r=t.showChat;return{show:Boolean(n),showChat:r}},function(e){return{toggleChat:function(){return e(o.toggleShowChatState())}}})(function(e){var t=e.show,n=e.showChat,r=e.toggleChat;return t&&l.a.createElement(na,{icon:!0,tooltip:n?ha.hideChat:ha.showChat,onClick:r},n?l.a.createElement(da.a,null):l.a.createElement(fa.a,null))}),ma=n(132),Ea=n(133),ga=Object(s.b)(function(e){var t=e.twitch,n=t.channel,r=t.showVideos;return{show:Boolean(n),showVideos:r}},function(e){return{changeView:function(){return e(o.toggleShowVideosState())}}})(function(e){var t=e.changeView,n=e.show,r=e.showVideos;return n&&l.a.createElement(na,{icon:!0,tooltip:K.en.actions.tooltips.showVideos,onClick:t},r?l.a.createElement(ma.a,null):l.a.createElement(Ea.a,null))}),va=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(sa,null),l.a.createElement(ga,null),l.a.createElement(pa,null),l.a.createElement(ia,null))},ba=function(){return l.a.createElement(s.a,{store:st},l.a.createElement(d.a,{theme:ft},l.a.createElement(f.a,null),l.a.createElement(Ht,{header:l.a.createElement(l.a.Fragment,null,l.a.createElement(Yr,{showFullTitle:!0}),l.a.createElement(va,null)),sidebar:l.a.createElement(Kr,null),sidebarHeader:l.a.createElement(Yr,null)},l.a.createElement(Nr,null))))},wa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),Ta=function(e,t){navigator.serviceWorker.register(e).then(function(e){e.addEventListener("updatefound",function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller&&t&&t.onUpdate?t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})})})},Oa=function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ta(e,t)})};i.a.render(ba(),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/stream-watcher",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/stream-watcher","/service-worker.js");wa?Oa(t,e):Ta(t,e)})}}()}},[[74,1,2]]]);
//# sourceMappingURL=main.6847b817.chunk.js.map